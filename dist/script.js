(()=>{var e={674:()=>{var e,t,n=document.querySelector(".quote"),o=document.querySelector(".author"),r=document.querySelector(".refresh-quote"),c=function n(o,r){var c=Math.floor(Math.random()*(r-o))+o;return c!==t?(t=c,c):n(0,e)},i=function(){fetch("./assets/json/quotes.json").then((function(e){return e.json()})).then((function(t){e=t.length;var r=c(0,e);n.textContent=t[r].quote,o.textContent=t[r].author}))};i(),r.addEventListener("click",i)}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(674);var e={currentImages:[],greeting:null,countSliders:0,slideLeft:null,slideRight:null,init:function(){var e=this,t=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20"];t.sort((function(){return Math.random()-.5}));for(var n=0;n<24;n+=1)n<6?this.currentImages.push('url("assets/images/night/'.concat(t[n%6],'.jpg")')):n<12?this.currentImages.push('url("assets/images/morning/'.concat(t[n%6],'.jpg")')):n<18?this.currentImages.push('url("assets/images/day/'.concat(t[n%6],'.jpg")')):this.currentImages.push('url("assets/images/evening/'.concat(t[n%6],'.jpg")'));this.greeting=document.querySelector(".greeting"),this.slideLeft=document.querySelector(".slide-left"),this.slideRight=document.querySelector(".slide-right"),this.slideLeft.addEventListener("click",(function(){e.countSliders-=1,e.slideSwitch()})),this.slideRight.addEventListener("click",(function(){e.countSliders+=1,e.slideSwitch()})),this.setBackground()},setBackground:function(){var e=this,t=(new Date).getHours(),n=document.createElement("img");n.src="".concat(this.currentImages[t].slice(5,-2)),n.onload=function(){document.body.style.backgroundImage=e.currentImages[t]},document.body.style.color="white",this.greeting.textContent=t<6?"Good Night, ":t<12?"Good Morning, ":t<18?"Good Afternoon, ":"Good Evening, "},slideSwitch:function(){var e=this,t=(new Date).getHours();t+this.countSliders<0&&(this.countSliders=23-t),t+this.countSliders>23&&(this.countSliders=-t);var n=document.createElement("img");n.src="".concat(this.currentImages[t+this.countSliders].slice(5,-2)),n.onload=function(){document.body.style.backgroundImage=e.currentImages[t+e.countSliders]},this.slideLeft.disabled=!0,this.slideRight.disabled=!0,setTimeout((function(){e.slideLeft.disabled=!1,e.slideRight.disabled=!1}),1e3)}};e.init();const t=e;var o=document.querySelector(".time"),r=document.querySelector(".date");!function e(){var n=new Date,c=n.getMonth(),i=n.getDate(),a=n.getDay(),u=n.getHours(),d=n.getMinutes(),s=n.getSeconds();0===d&&0===s&&t.setBackground(),o.innerText="".concat(u,":").concat(+d<10?"0":"").concat(d,":").concat(+s<10?"0":"").concat(s),r.innerText="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(i," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]),setTimeout(e,1e3)}();var c=document.querySelector(".weather-icon"),i=document.querySelector(".temperature"),a=document.querySelector(".weather-description"),u=document.querySelector(".city"),d=document.querySelector(".weather-description"),s=document.querySelector(".humidity-info"),l=document.querySelector(".wind-info"),m=function(){""!==u.textContent&&"[Enter City]"!==u.textContent&&(c.className="weather-icon owf",fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(u.textContent,"&lang=en&appid=85d06021f576a4e46bc2f5084d6a6e87&units=metric")).then((function(e){return e.json()})).then((function(e){"city not found"===e.message?(u.textContent="City not found",d.textContent="Weather",document.querySelector(".temperature").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):(document.querySelector(".temperature").hidden=!1,c.classList.add("owf-".concat(e.weather[0].id)),i.textContent="".concat(Math.round(e.main.temp),"Â°C"),a.textContent=e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1),s.textContent=e.main.humidity,l.textContent=e.wind.speed)})))};const g=m;document.addEventListener("DOMContentLoaded",m);var h=document.querySelector(".name"),y=document.querySelector(".focus"),S=document.querySelector(".city"),f=document.querySelector(".weather-description");h.addEventListener("click",(function(){h.textContent=null})),h.addEventListener("blur",(function(){h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]"})),h.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("name",e.target.innerText),h.blur()):localStorage.setItem("name",e.target.innerText)})),y.addEventListener("click",(function(){y.textContent=null})),y.addEventListener("blur",(function(){y.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter Name]"})),y.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("focus",e.target.innerText),y.blur()):localStorage.setItem("focus",e.target.innerText)})),S.addEventListener("click",(function(){S.textContent=null})),S.addEventListener("blur",(function(){null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".temperature-info").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city")})),S.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("city",e.target.innerText),document.querySelector(".temperature-info").hidden=!1,document.querySelector(".humidity").hidden=!1,document.querySelector(".wind").hidden=!1,S.blur(),g()):localStorage.setItem("city",e.target.innerText)})),S.addEventListener("keypress",(function(e){"Enter"===e.code&&(g(),S.blur())})),h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]",y.textContent=localStorage.getItem("focus")?y.textContent=localStorage.getItem("focus"):"[Enter Focus]",null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9xdW90ZXMuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy90aW1lLmpzIiwid2VicGFjazovL21vbWVudHVtLy4vc3JjL2pzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvc2V0RGF0YS5qcyJdLCJuYW1lcyI6WyJudW1iZXJzT2ZRdW90ZXMiLCJjaGVjayIsInF1b3RlVGV4dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF1dGhvciIsImJ1dHRvbiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsInJlc3VsdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldFF1b3RlIiwiZmV0Y2giLCJ0aGVuIiwianNvbiIsImxlbmd0aCIsInJhbmRvbVF1b3RlIiwidGV4dENvbnRlbnQiLCJxdW90ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImJhY2tncm91bmQiLCJjdXJyZW50SW1hZ2VzIiwiZ3JlZXRpbmciLCJjb3VudFNsaWRlcnMiLCJzbGlkZUxlZnQiLCJzbGlkZVJpZ2h0IiwiaW5pdCIsImFyckltYWdlcyIsInNvcnQiLCJpIiwidGhpcyIsInB1c2giLCJzbGlkZVN3aXRjaCIsInNldEJhY2tncm91bmQiLCJob3VyIiwiRGF0ZSIsImdldEhvdXJzIiwiaW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInNsaWNlIiwib25sb2FkIiwiYm9keSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiY29sb3IiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJ0aW1lIiwiZGF0ZSIsInNob3dUaW1lIiwidG9kYXkiLCJtb250aCIsImdldE1vbnRoIiwiZGF5IiwiZ2V0RGF0ZSIsImRheU9mV2VlayIsImdldERheSIsImdldE1pbnV0ZXMiLCJzZWMiLCJnZXRTZWNvbmRzIiwiYXBwIiwiaW5uZXJUZXh0Iiwid2VhdGhlckljb24iLCJ0ZW1wZXJhdHVyZSIsIndlYXRoZXJEZXNjcmlwdGlvbiIsImNpdHkiLCJ3ZWF0aGVyIiwiaHVtaWRpdHkiLCJ3aW5kIiwiZ2V0V2VhdGhlciIsImNsYXNzTmFtZSIsIm1lc3NhZ2UiLCJoaWRkZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJpZCIsInJvdW5kIiwibWFpbiIsInRlbXAiLCJkZXNjcmlwdGlvbiIsInRvVXBwZXJDYXNlIiwic3BlZWQiLCJuYW1lIiwiZm9jdXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXZlbnQiLCJrZXkiLCJrZXlDb2RlIiwic2V0SXRlbSIsInRhcmdldCIsImJsdXIiLCJjb2RlIl0sIm1hcHBpbmdzIjoic0JBQUEsSUFJSUEsRUFDQUMsRUFMRUMsRUFBWUMsU0FBU0MsY0FBYyxVQUNuQ0MsRUFBU0YsU0FBU0MsY0FBYyxXQUNoQ0UsRUFBU0gsU0FBU0MsY0FBYyxrQkFLaENHLEVBQWUsU0FBZkEsRUFBZ0JDLEVBQUtDLEdBQ3pCLElBQU1DLEVBQVNDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlKLEVBQU1ELElBQVFBLEVBQ3pELE9BQUlFLElBQVdULEdBQ2JBLEVBQVFTLEVBQ0RBLEdBRUZILEVBQWEsRUFBR1AsSUFHbkJjLEVBQVcsV0FDZkMsTUFBTSw2QkFDSEMsTUFBSyxTQUFDTixHQUFELE9BQVlBLEVBQU9PLFVBQ3hCRCxNQUFLLFNBQUNOLEdBQ0xWLEVBQWtCVSxFQUFPUSxPQUN6QixJQUFNQyxFQUFjWixFQUFhLEVBQUdQLEdBQ3BDRSxFQUFVa0IsWUFBY1YsRUFBT1MsR0FBYUUsTUFDNUNoQixFQUFPZSxZQUFjVixFQUFPUyxHQUFhZCxXQUkvQ1MsSUFFQVIsRUFBT2dCLGlCQUFpQixRQUFTUixLQzVCN0JTLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVDLFFBRzNDLElBQUlDLEVBQVNKLEVBQXlCRSxHQUFZLENBR2pEQyxRQUFTLElBT1YsT0FIQUUsRUFBb0JILEdBQVVFLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9DRyxFQUFPRCxRLDhCQ3BCVEcsRUFBYSxDQUNqQkMsY0FBZSxHQUNmQyxTQUFVLEtBQ1ZDLGFBQWMsRUFDZEMsVUFBVyxLQUNYQyxXQUFZLEtBRVpDLEtBUGlCLFdBT1YsV0FDQ0MsRUFBWSxDQUFDLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FDekMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUMxQyxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxNQUd0Q0EsRUFBVUMsTUFBSyxrQkFBTTFCLEtBQUtFLFNBQVcsTUFFckMsSUFBSyxJQUFJeUIsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLEdBQUssRUFDdkJBLEVBQUksRUFDTkMsS0FBS1QsY0FBY1UsS0FBbkIsbUNBQW9ESixFQUFVRSxFQUFJLEdBQWxFLFdBQ1NBLEVBQUksR0FDYkMsS0FBS1QsY0FBY1UsS0FBbkIscUNBQXNESixFQUFVRSxFQUFJLEdBQXBFLFdBQ1NBLEVBQUksR0FDYkMsS0FBS1QsY0FBY1UsS0FBbkIsaUNBQWtESixFQUFVRSxFQUFJLEdBQWhFLFdBRUFDLEtBQUtULGNBQWNVLEtBQW5CLHFDQUFzREosRUFBVUUsRUFBSSxHQUFwRSxXQUlKQyxLQUFLUixTQUFXNUIsU0FBU0MsY0FBYyxhQUN2Q21DLEtBQUtOLFVBQVk5QixTQUFTQyxjQUFjLGVBQ3hDbUMsS0FBS0wsV0FBYS9CLFNBQVNDLGNBQWMsZ0JBRXpDbUMsS0FBS04sVUFBVVgsaUJBQWlCLFNBQVMsV0FDdkMsRUFBS1UsY0FBZ0IsRUFDckIsRUFBS1MsaUJBR1BGLEtBQUtMLFdBQVdaLGlCQUFpQixTQUFTLFdBQ3hDLEVBQUtVLGNBQWdCLEVBQ3JCLEVBQUtTLGlCQUVQRixLQUFLRyxpQkFHUEEsY0EzQ2lCLFdBMkNELFdBRVJDLEdBRFEsSUFBSUMsTUFDQ0MsV0FFYkMsRUFBTTNDLFNBQVM0QyxjQUFjLE9BQ25DRCxFQUFJRSxJQUFKLFVBQWFULEtBQUtULGNBQWNhLEdBQU1NLE1BQU0sR0FBSSxJQUVoREgsRUFBSUksT0FBUyxXQUNYL0MsU0FBU2dELEtBQUtDLE1BQU1DLGdCQUFrQixFQUFLdkIsY0FBY2EsSUFHM0R4QyxTQUFTZ0QsS0FBS0MsTUFBTUUsTUFBUSxRQUUxQmYsS0FBS1IsU0FBU1gsWUFEWnVCLEVBQU8sRUFDbUIsZUFDbkJBLEVBQU8sR0FDWSxpQkFDbkJBLEVBQU8sR0FDWSxtQkFFQSxrQkFJaENGLFlBbEVpQixXQWtFSCxXQUVORSxHQURRLElBQUlDLE1BQ0NDLFdBQ2ZGLEVBQU9KLEtBQUtQLGFBQWUsSUFDN0JPLEtBQUtQLGFBQWUsR0FBS1csR0FFdkJBLEVBQU9KLEtBQUtQLGFBQWUsS0FDN0JPLEtBQUtQLGNBQWdCVyxHQUd2QixJQUFNRyxFQUFNM0MsU0FBUzRDLGNBQWMsT0FDbkNELEVBQUlFLElBQUosVUFBYVQsS0FBS1QsY0FBY2EsRUFBT0osS0FBS1AsY0FBY2lCLE1BQU0sR0FBSSxJQUVwRUgsRUFBSUksT0FBUyxXQUNYL0MsU0FBU2dELEtBQUtDLE1BQU1DLGdCQUFrQixFQUFLdkIsY0FBY2EsRUFBTyxFQUFLWCxlQUd2RU8sS0FBS04sVUFBVXNCLFVBQVcsRUFDMUJoQixLQUFLTCxXQUFXcUIsVUFBVyxFQUMzQkMsWUFBVyxXQUNULEVBQUt2QixVQUFVc0IsVUFBVyxFQUMxQixFQUFLckIsV0FBV3FCLFVBQVcsSUFDMUIsT0FJUDFCLEVBQVdNLE9BRVgsVUM1RkEsSUFBTXNCLEVBQU90RCxTQUFTQyxjQUFjLFNBQzlCc0QsRUFBT3ZELFNBQVNDLGNBQWMsVUFFbkIsU0FBWHVELElBQ0osSUFFTUMsRUFBUSxJQUFJaEIsS0FDWmlCLEVBQVFELEVBQU1FLFdBQ2RDLEVBQU1ILEVBQU1JLFVBQ1pDLEVBQVlMLEVBQU1NLFNBQ2xCdkIsRUFBT2lCLEVBQU1mLFdBQ2JyQyxFQUFNb0QsRUFBTU8sYUFDWkMsRUFBTVIsRUFBTVMsYUFDTixJQUFSN0QsR0FBcUIsSUFBUjRELEdBQ2ZFLGtCQUdGYixFQUFLYyxVQUFMLFVBQW9CNUIsRUFBcEIsYUFBNkJuQyxFQUFNLEdBQUssSUFBTSxJQUE5QyxPQUFtREEsRUFBbkQsYUFBMkQ0RCxFQUFNLEdBQUssSUFBTSxJQUE1RSxPQUFpRkEsR0FDakZWLEVBQUthLFVBQUwsVUFiaUIsQ0FBQyxTQUFVLFNBQVUsVUFBVyxZQUFhLFdBQVksU0FBVSxZQWF2RE4sR0FBN0IsYUFBNENGLEVBQTVDLFlBZG1CLENBQUMsVUFBVyxXQUFZLFFBQVMsUUFBUyxNQUFPLE9BQVEsT0FBUSxTQUFVLFlBQWEsVUFBVyxXQUFZLFlBY3BFRixJQUU5REwsV0FBV0csRUFBVSxLQUd2QkEsR0N6QkEsSUFBTWEsRUFBY3JFLFNBQVNDLGNBQWMsaUJBQ3JDcUUsRUFBY3RFLFNBQVNDLGNBQWMsZ0JBQ3JDc0UsRUFBcUJ2RSxTQUFTQyxjQUFjLHdCQUM1Q3VFLEVBQU94RSxTQUFTQyxjQUFjLFNBQzlCd0UsRUFBVXpFLFNBQVNDLGNBQWMsd0JBQ2pDeUUsRUFBVzFFLFNBQVNDLGNBQWMsa0JBQ2xDMEUsRUFBTzNFLFNBQVNDLGNBQWMsY0FFOUIyRSxFQUFhLFdBQ1EsS0FBckJKLEVBQUt2RCxhQUEyQyxpQkFBckJ1RCxFQUFLdkQsY0FDbENvRCxFQUFZUSxVQUFZLG1CQUV4QmpFLE1BQU0scURBQUQsT0FBc0Q0RCxFQUFLdkQsWUFBM0QsaUVBQ0ZKLE1BQUssU0FBQ04sR0FBRCxPQUFZQSxFQUFPTyxVQUN4QkQsTUFBSyxTQUFDTixHQUNrQixtQkFBbkJBLEVBQU91RSxTQUNUTixFQUFLdkQsWUFBYyxpQkFDbkJ3RCxFQUFReEQsWUFBYyxVQUN0QmpCLFNBQVNDLGNBQWMsZ0JBQWdCOEUsUUFBUyxFQUNoRC9FLFNBQVNDLGNBQWMsYUFBYThFLFFBQVMsRUFDN0MvRSxTQUFTQyxjQUFjLFNBQVM4RSxRQUFTLElBRXpDL0UsU0FBU0MsY0FBYyxnQkFBZ0I4RSxRQUFTLEVBQ2hEVixFQUFZVyxVQUFVQyxJQUF0QixjQUFpQzFFLEVBQU9rRSxRQUFRLEdBQUdTLEtBQ25EWixFQUFZckQsWUFBWixVQUE2QlQsS0FBSzJFLE1BQU01RSxFQUFPNkUsS0FBS0MsTUFBcEQsTUFDQWQsRUFBbUJ0RCxZQUFjVixFQUFPa0UsUUFBUSxHQUFHYSxZQUFZLEdBQUdDLGNBQ2hFaEYsRUFBT2tFLFFBQVEsR0FBR2EsWUFBWXhDLE1BQU0sR0FDdEM0QixFQUFTekQsWUFBY1YsRUFBTzZFLEtBQUtWLFNBQ25DQyxFQUFLMUQsWUFBY1YsRUFBT29FLEtBQUthLFlBTXpDLFVBRUF4RixTQUFTbUIsaUJBQWlCLG1CQUFvQnlELEdDbEM5QyxJQUFNYSxFQUFPekYsU0FBU0MsY0FBYyxTQUM5QnlGLEVBQVExRixTQUFTQyxjQUFjLFVBQy9CdUUsRUFBT3hFLFNBQVNDLGNBQWMsU0FDOUJ3RSxFQUFVekUsU0FBU0MsY0FBYyx3QkFnQnZDd0YsRUFBS3RFLGlCQUFpQixTQUFTLFdBQzdCc0UsRUFBS3hFLFlBQWMsUUFHckJ3RSxFQUFLdEUsaUJBQWlCLFFBQVEsV0FDNUJzRSxFQUFLeEUsWUFBZTBFLGFBQWFDLFFBQVEsUUFBMkJELGFBQWFDLFFBQVEsUUFBdEMsa0JBR3JESCxFQUFLdEUsaUJBQWlCLFdBQVcsU0FBQzBFLEdBQ2QsVUFBZEEsRUFBTUMsS0FBcUMsS0FBbEJELEVBQU1FLFNBQ2pDSixhQUFhSyxRQUFRLE9BQVFILEVBQU1JLE9BQU83QixXQUMxQ3FCLEVBQUtTLFFBRUxQLGFBQWFLLFFBQVEsT0FBUUgsRUFBTUksT0FBTzdCLGNBSTlDc0IsRUFBTXZFLGlCQUFpQixTQUFTLFdBQzlCdUUsRUFBTXpFLFlBQWMsUUFHdEJ5RSxFQUFNdkUsaUJBQWlCLFFBQVEsV0FDN0J1RSxFQUFNekUsWUFBZTBFLGFBQWFDLFFBQVEsU0FBNEJELGFBQWFDLFFBQVEsU0FBdEMsa0JBR3ZERixFQUFNdkUsaUJBQWlCLFdBQVcsU0FBQzBFLEdBQ2YsVUFBZEEsRUFBTUMsS0FBcUMsS0FBbEJELEVBQU1FLFNBQ2pDSixhQUFhSyxRQUFRLFFBQVNILEVBQU1JLE9BQU83QixXQUMzQ3NCLEVBQU1RLFFBRU5QLGFBQWFLLFFBQVEsUUFBU0gsRUFBTUksT0FBTzdCLGNBSS9DSSxFQUFLckQsaUJBQWlCLFNBQVMsV0FDN0JxRCxFQUFLdkQsWUFBYyxRQUdyQnVELEVBQUtyRCxpQkFBaUIsUUFBUSxXQUNTLE9BQWpDd0UsYUFBYUMsUUFBUSxTQUFxRCxLQUFqQ0QsYUFBYUMsUUFBUSxTQUNoRXBCLEVBQUt2RCxZQUFjLGVBQ25Cd0QsRUFBUXhELFlBQWMsVUFDdEJqQixTQUFTQyxjQUFjLHFCQUFxQjhFLFFBQVMsRUFDckQvRSxTQUFTQyxjQUFjLGFBQWE4RSxRQUFTLEVBQzdDL0UsU0FBU0MsY0FBYyxTQUFTOEUsUUFBUyxHQUV6Q1AsRUFBS3ZELFlBQWMwRSxhQUFhQyxRQUFRLFdBSTVDcEIsRUFBS3JELGlCQUFpQixXQUFXLFNBQUMwRSxHQUNkLFVBQWRBLEVBQU1DLEtBQXFDLEtBQWxCRCxFQUFNRSxTQUNqQ0osYUFBYUssUUFBUSxPQUFRSCxFQUFNSSxPQUFPN0IsV0FDMUNwRSxTQUFTQyxjQUFjLHFCQUFxQjhFLFFBQVMsRUFDckQvRSxTQUFTQyxjQUFjLGFBQWE4RSxRQUFTLEVBQzdDL0UsU0FBU0MsY0FBYyxTQUFTOEUsUUFBUyxFQUN6Q1AsRUFBSzBCLE9BQ0x0QixLQUVBZSxhQUFhSyxRQUFRLE9BQVFILEVBQU1JLE9BQU83QixjQVc5Q0ksRUFBS3JELGlCQUFpQixZQVBOLFNBQUMwRSxHQUNJLFVBQWZBLEVBQU1NLE9BQ1J2QixJQUNBSixFQUFLMEIsV0EvRVBULEVBQUt4RSxZQUFlMEUsYUFBYUMsUUFBUSxRQUEyQkQsYUFBYUMsUUFBUSxRQUF0QyxlQUNuREYsRUFBTXpFLFlBQWUwRSxhQUFhQyxRQUFRLFNBQTZCRixFQUFNekUsWUFBYzBFLGFBQWFDLFFBQVEsU0FBM0QsZ0JBRWhCLE9BQWpDRCxhQUFhQyxRQUFRLFNBQXFELEtBQWpDRCxhQUFhQyxRQUFRLFNBQ2hFcEIsRUFBS3ZELFlBQWMsZUFDbkJ3RCxFQUFReEQsWUFBYyxVQUN0QmpCLFNBQVNDLGNBQWMsYUFBYThFLFFBQVMsRUFDN0MvRSxTQUFTQyxjQUFjLFNBQVM4RSxRQUFTLEdBRXpDUCxFQUFLdkQsWUFBYzBFLGFBQWFDLFFBQVEsUyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBxdW90ZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVvdGUnKTtcbmNvbnN0IGF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdXRob3InKTtcbmNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWZyZXNoLXF1b3RlJyk7XG5cbmxldCBudW1iZXJzT2ZRdW90ZXM7XG5sZXQgY2hlY2s7XG5cbmNvbnN0IHJhbmRvbU51bWJlciA9IChtaW4sIG1heCkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG4gIGlmIChyZXN1bHQgIT09IGNoZWNrKSB7XG4gICAgY2hlY2sgPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gcmFuZG9tTnVtYmVyKDAsIG51bWJlcnNPZlF1b3Rlcyk7XG59O1xuXG5jb25zdCBzZXRRdW90ZSA9ICgpID0+IHtcbiAgZmV0Y2goJy4vYXNzZXRzL2pzb24vcXVvdGVzLmpzb24nKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5qc29uKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgbnVtYmVyc09mUXVvdGVzID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IHJhbmRvbVF1b3RlID0gcmFuZG9tTnVtYmVyKDAsIG51bWJlcnNPZlF1b3Rlcyk7XG4gICAgICBxdW90ZVRleHQudGV4dENvbnRlbnQgPSByZXN1bHRbcmFuZG9tUXVvdGVdLnF1b3RlO1xuICAgICAgYXV0aG9yLnRleHRDb250ZW50ID0gcmVzdWx0W3JhbmRvbVF1b3RlXS5hdXRob3I7XG4gICAgfSk7XG59O1xuXG5zZXRRdW90ZSgpO1xuXG5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXRRdW90ZSk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IGJhY2tncm91bmQgPSB7XG4gIGN1cnJlbnRJbWFnZXM6IFtdLFxuICBncmVldGluZzogbnVsbCxcbiAgY291bnRTbGlkZXJzOiAwLFxuICBzbGlkZUxlZnQ6IG51bGwsXG4gIHNsaWRlUmlnaHQ6IG51bGwsXG5cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBhcnJJbWFnZXMgPSBbJzAxJywgJzAyJywgJzAzJywgJzA0JywgJzA1JyxcbiAgICAgICcwNicsICcwNycsICcwOCcsICcwOScsICcxMCcsICcxMScsICcxMicsICcxMycsXG4gICAgICAnMTQnLCAnMTUnLCAnMTYnLCAnMTcnLCAnMTgnLCAnMTknLCAnMjAnLFxuICAgIF07XG5cbiAgICBhcnJJbWFnZXMuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkgKz0gMSkge1xuICAgICAgaWYgKGkgPCA2KSB7XG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL25pZ2h0LyR7YXJySW1hZ2VzW2kgJSA2XX0uanBnXCIpYCk7XG4gICAgICB9IGVsc2UgaWYgKGkgPCAxMikge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9tb3JuaW5nLyR7YXJySW1hZ2VzW2kgJSA2XX0uanBnXCIpYCk7XG4gICAgICB9IGVsc2UgaWYgKGkgPCAxOCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9kYXkvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL2V2ZW5pbmcvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmdyZWV0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyZWV0aW5nJyk7XG4gICAgdGhpcy5zbGlkZUxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtbGVmdCcpO1xuICAgIHRoaXMuc2xpZGVSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS1yaWdodCcpO1xuXG4gICAgdGhpcy5zbGlkZUxlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNvdW50U2xpZGVycyAtPSAxO1xuICAgICAgdGhpcy5zbGlkZVN3aXRjaCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zbGlkZVJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jb3VudFNsaWRlcnMgKz0gMTtcbiAgICAgIHRoaXMuc2xpZGVTd2l0Y2goKTtcbiAgICB9KTtcbiAgICB0aGlzLnNldEJhY2tncm91bmQoKTtcbiAgfSxcblxuICBzZXRCYWNrZ3JvdW5kKCkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBob3VyID0gdG9kYXkuZ2V0SG91cnMoKTtcblxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltZy5zcmMgPSBgJHt0aGlzLmN1cnJlbnRJbWFnZXNbaG91cl0uc2xpY2UoNSwgLTIpfWA7XG5cbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmN1cnJlbnRJbWFnZXNbaG91cl07XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgIGlmIChob3VyIDwgNikge1xuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIE5pZ2h0LCAnO1xuICAgIH0gZWxzZSBpZiAoaG91ciA8IDEyKSB7XG4gICAgICB0aGlzLmdyZWV0aW5nLnRleHRDb250ZW50ID0gJ0dvb2QgTW9ybmluZywgJztcbiAgICB9IGVsc2UgaWYgKGhvdXIgPCAxOCkge1xuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIEFmdGVybm9vbiwgJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIEV2ZW5pbmcsICc7XG4gICAgfVxuICB9LFxuXG4gIHNsaWRlU3dpdGNoKCkge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBob3VyID0gdG9kYXkuZ2V0SG91cnMoKTtcbiAgICBpZiAoaG91ciArIHRoaXMuY291bnRTbGlkZXJzIDwgMCkge1xuICAgICAgdGhpcy5jb3VudFNsaWRlcnMgPSAyMyAtIGhvdXI7XG4gICAgfVxuICAgIGlmIChob3VyICsgdGhpcy5jb3VudFNsaWRlcnMgPiAyMykge1xuICAgICAgdGhpcy5jb3VudFNsaWRlcnMgPSAtaG91cjtcbiAgICB9XG5cbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYCR7dGhpcy5jdXJyZW50SW1hZ2VzW2hvdXIgKyB0aGlzLmNvdW50U2xpZGVyc10uc2xpY2UoNSwgLTIpfWA7XG5cbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmN1cnJlbnRJbWFnZXNbaG91ciArIHRoaXMuY291bnRTbGlkZXJzXTtcbiAgICB9O1xuXG4gICAgdGhpcy5zbGlkZUxlZnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuc2xpZGVSaWdodC5kaXNhYmxlZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNsaWRlTGVmdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zbGlkZVJpZ2h0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSwgMTAwMCk7XG4gIH0sXG59O1xuXG5iYWNrZ3JvdW5kLmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgYmFja2dyb3VuZDtcbiIsImltcG9ydCBhcHAgZnJvbSAnLi9iYWNrZ3JvdW5kJztcblxuY29uc3QgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lJyk7XG5jb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUnKTtcblxuY29uc3Qgc2hvd1RpbWUgPSAoKSA9PiB7XG4gIGNvbnN0IG1vbnRoTmFtZXMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcbiAgY29uc3QgZGF5TmFtZXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgbW9udGggPSB0b2RheS5nZXRNb250aCgpO1xuICBjb25zdCBkYXkgPSB0b2RheS5nZXREYXRlKCk7XG4gIGNvbnN0IGRheU9mV2VlayA9IHRvZGF5LmdldERheSgpO1xuICBjb25zdCBob3VyID0gdG9kYXkuZ2V0SG91cnMoKTtcbiAgY29uc3QgbWluID0gdG9kYXkuZ2V0TWludXRlcygpO1xuICBjb25zdCBzZWMgPSB0b2RheS5nZXRTZWNvbmRzKCk7XG4gIGlmIChtaW4gPT09IDAgJiYgc2VjID09PSAwKSB7XG4gICAgYXBwLnNldEJhY2tncm91bmQoKTtcbiAgfVxuXG4gIHRpbWUuaW5uZXJUZXh0ID0gYCR7aG91cn06JHsrbWluIDwgMTAgPyAnMCcgOiAnJ30ke21pbn06JHsrc2VjIDwgMTAgPyAnMCcgOiAnJ30ke3NlY31gO1xuICBkYXRlLmlubmVyVGV4dCA9IGAke2RheU5hbWVzW2RheU9mV2Vla119LCAke2RheX0gJHttb250aE5hbWVzW21vbnRoXX1gO1xuXG4gIHNldFRpbWVvdXQoc2hvd1RpbWUsIDEwMDApO1xufTtcblxuc2hvd1RpbWUoKTtcbiIsImNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaWNvbicpO1xuY29uc3QgdGVtcGVyYXR1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUnKTtcbmNvbnN0IHdlYXRoZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWRlc2NyaXB0aW9uJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcbmNvbnN0IHdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuY29uc3QgaHVtaWRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHktaW5mbycpO1xuY29uc3Qgd2luZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kLWluZm8nKTtcblxuY29uc3QgZ2V0V2VhdGhlciA9ICgpID0+IHtcbiAgaWYgKGNpdHkudGV4dENvbnRlbnQgIT09ICcnICYmIGNpdHkudGV4dENvbnRlbnQgIT09ICdbRW50ZXIgQ2l0eV0nKSB7XG4gICAgd2VhdGhlckljb24uY2xhc3NOYW1lID0gJ3dlYXRoZXItaWNvbiBvd2YnO1xuXG4gICAgZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtjaXR5LnRleHRDb250ZW50fSZsYW5nPWVuJmFwcGlkPTg1ZDA2MDIxZjU3NmE0ZTQ2YmMyZjUwODRkNmE2ZTg3JnVuaXRzPW1ldHJpY2ApXG4gICAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UgPT09ICdjaXR5IG5vdCBmb3VuZCcpIHtcbiAgICAgICAgICBjaXR5LnRleHRDb250ZW50ID0gJ0NpdHkgbm90IGZvdW5kJztcbiAgICAgICAgICB3ZWF0aGVyLnRleHRDb250ZW50ID0gJ1dlYXRoZXInO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZScpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlJykuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgd2VhdGhlckljb24uY2xhc3NMaXN0LmFkZChgb3dmLSR7cmVzdWx0LndlYXRoZXJbMF0uaWR9YCk7XG4gICAgICAgICAgdGVtcGVyYXR1cmUudGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKHJlc3VsdC5tYWluLnRlbXApfcKwQ2A7XG4gICAgICAgICAgd2VhdGhlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcmVzdWx0LndlYXRoZXJbMF0uZGVzY3JpcHRpb25bMF0udG9VcHBlckNhc2UoKVxuICAgICAgICAgICsgcmVzdWx0LndlYXRoZXJbMF0uZGVzY3JpcHRpb24uc2xpY2UoMSk7XG4gICAgICAgICAgaHVtaWRpdHkudGV4dENvbnRlbnQgPSByZXN1bHQubWFpbi5odW1pZGl0eTtcbiAgICAgICAgICB3aW5kLnRleHRDb250ZW50ID0gcmVzdWx0LndpbmQuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRXZWF0aGVyO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZ2V0V2VhdGhlcik7XG4iLCJpbXBvcnQgZ2V0V2VhdGhlciBmcm9tICcuL3dlYXRoZXInO1xuXG5jb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKTtcbmNvbnN0IGZvY3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvY3VzJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcbmNvbnN0IHdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuXG5jb25zdCBnZXREYXRhID0gKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJyk7XG4gIGZvY3VzLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpID8gJ1tFbnRlciBGb2N1c10nIDogZm9jdXMudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKTtcblxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpID09PSAnJykge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSAnW0VudGVyIENpdHldJztcbiAgICB3ZWF0aGVyLnRleHRDb250ZW50ID0gJ1dlYXRoZXInO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpO1xuICB9XG59O1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gbnVsbDtcbn0pO1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIG5hbWUudGV4dENvbnRlbnQgPSAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25hbWUnKSA/ICdbRW50ZXIgTmFtZV0nIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25hbWUnKTtcbn0pO1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgbmFtZS5ibHVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb2N1cy50ZXh0Q29udGVudCA9IG51bGw7XG59KTtcblxuZm9jdXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgZm9jdXMudGV4dENvbnRlbnQgPSAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpO1xufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb2N1cycsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIGZvY3VzLmJsdXIoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9jdXMnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNpdHkudGV4dENvbnRlbnQgPSBudWxsO1xufSk7XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gJycpIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gJ1tFbnRlciBDaXR5XSc7XG4gICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUtaW5mbycpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5Jyk7XG4gIH1cbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaXR5JywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWluZm8nKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHknKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IGZhbHNlO1xuICAgIGNpdHkuYmx1cigpO1xuICAgIGdldFdlYXRoZXIoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICB9XG59KTtcblxuY29uc3Qgc2V0Q2l0eSA9IChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQuY29kZSA9PT0gJ0VudGVyJykge1xuICAgIGdldFdlYXRoZXIoKTtcbiAgICBjaXR5LmJsdXIoKTtcbiAgfVxufTtcblxuY2l0eS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHNldENpdHkpO1xuXG5nZXREYXRhKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9