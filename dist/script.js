(()=>{var e={674:()=>{var e,t,n=document.querySelector(".quote"),o=document.querySelector(".author"),r=document.querySelector(".refresh-quote"),c=function n(o,r){var c=Math.floor(Math.random()*(r-o))+o;return c!==t?(t=c,c):n(0,e)},i=function(){fetch("./assets/json/quotes.json").then((function(e){return e.json()})).then((function(t){e=t.length;var r=c(0,e);n.textContent=t[r].quote,o.textContent=t[r].author}))};i(),r.addEventListener("click",i)}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(674);var e={currentImages:[],greeting:null,countSliders:0,slideLeft:null,slideRight:null,init:function(){var e=this,t=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20"];t.sort((function(){return Math.random()-.5}));for(var n=0;n<24;n+=1)n<6?this.currentImages.push('url("assets/images/night/'.concat(t[n%6],'.jpg")')):n<12?this.currentImages.push('url("assets/images/morning/'.concat(t[n%6],'.jpg")')):n<18?this.currentImages.push('url("assets/images/day/'.concat(t[n%6],'.jpg")')):this.currentImages.push('url("assets/images/evening/'.concat(t[n%6],'.jpg")'));this.greeting=document.querySelector(".greeting"),this.slideLeft=document.querySelector(".slide-left"),this.slideRight=document.querySelector(".slide-right"),this.slideLeft.addEventListener("click",(function(){e.countSliders-=1,e.slideSwitch()})),this.slideRight.addEventListener("click",(function(){e.countSliders+=1,e.slideSwitch()})),this.setBackground()},setBackground:function(){var e=this,t=(new Date).getHours(),n=document.createElement("img");n.src="".concat(this.currentImages[t].slice(5,-2)),n.onload=function(){document.body.style.backgroundImage=e.currentImages[t]},document.body.style.color="white",this.greeting.textContent=t<6?"Good Night, ":t<12?"Good Morning, ":t<18?"Good Afternoon, ":"Good Evening, "},slideSwitch:function(){var e=this,t=(new Date).getHours();t+this.countSliders<0&&(this.countSliders=23-t),t+this.countSliders>23&&(this.countSliders=-t);var n=document.createElement("img");n.src="".concat(this.currentImages[t+this.countSliders].slice(5,-2)),n.onload=function(){document.body.style.backgroundImage=e.currentImages[t+e.countSliders]},this.slideLeft.disabled=!0,this.slideRight.disabled=!0,setTimeout((function(){e.slideLeft.disabled=!1,e.slideRight.disabled=!1}),1e3)}};e.init();const t=e;var o=document.querySelector(".time"),r=document.querySelector(".date");!function e(){var n=new Date,c=n.getMonth(),i=n.getDate(),a=n.getDay(),u=n.getHours(),d=n.getMinutes(),s=n.getSeconds();0===d&&0===s&&t.setBackground(),o.innerText="".concat(u,":").concat(+d<10?"0":"").concat(d,":").concat(+s<10?"0":"").concat(s),r.innerText="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(i," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]),setTimeout(e,1e3)}();var c=document.querySelector(".weather-icon"),i=document.querySelector(".temperature"),a=document.querySelector(".weather-description"),u=document.querySelector(".city"),d=document.querySelector(".weather-description"),s=document.querySelector(".humidity-info"),l=document.querySelector(".wind-info"),m=function(){""!==u.textContent&&"[Enter City]"!==u.textContent&&(c.className="weather-icon owf",fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(u.textContent,"&lang=en&appid=85d06021f576a4e46bc2f5084d6a6e87&units=metric")).then((function(e){return e.json()})).then((function(e){"city not found"===e.message?(u.textContent="City not found",d.textContent="Weather",document.querySelector(".temperature").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):(document.querySelector(".temperature").hidden=!1,c.classList.add("owf-".concat(e.weather[0].id)),i.textContent="".concat(Math.round(e.main.temp),"Â°C"),a.textContent=e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1),s.textContent=e.main.humidity,l.textContent=e.wind.speed)})))};const g=m;document.addEventListener("DOMContentLoaded",m);var h=document.querySelector(".name"),y=document.querySelector(".focus"),S=document.querySelector(".city"),f=document.querySelector(".weather-description");h.addEventListener("click",(function(){h.textContent=null})),h.addEventListener("blur",(function(){h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]"})),h.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("name",e.target.innerText),h.blur()):localStorage.setItem("name",e.target.innerText)})),y.addEventListener("click",(function(){y.textContent=null})),y.addEventListener("blur",(function(){y.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter Name]"})),y.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("focus",e.target.innerText),y.blur()):localStorage.setItem("focus",e.target.innerText)})),S.addEventListener("click",(function(){S.textContent=null})),S.addEventListener("blur",(function(){null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".temperature-info").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city")})),S.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("city",e.target.innerText),document.querySelector(".temperature-info").hidden=!1,document.querySelector(".humidity").hidden=!1,document.querySelector(".wind").hidden=!1,S.blur(),g()):localStorage.setItem("city",e.target.innerText)})),S.addEventListener("keypress",(function(e){"Enter"===e.code&&(g(),S.blur())})),h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]",y.textContent=localStorage.getItem("focus")?y.textContent=localStorage.getItem("focus"):"[Enter Focus]",null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city"),document.body.style.height="".concat(window.innerHeight,"px"),window.addEventListener("resize",(function(){document.body.style.height="".concat(window.innerHeight,"px")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9xdW90ZXMuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy90aW1lLmpzIiwid2VicGFjazovL21vbWVudHVtLy4vc3JjL2pzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvc2V0RGF0YS5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJudW1iZXJzT2ZRdW90ZXMiLCJjaGVjayIsInF1b3RlVGV4dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF1dGhvciIsImJ1dHRvbiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsInJlc3VsdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldFF1b3RlIiwiZmV0Y2giLCJ0aGVuIiwianNvbiIsImxlbmd0aCIsInJhbmRvbVF1b3RlIiwidGV4dENvbnRlbnQiLCJxdW90ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImJhY2tncm91bmQiLCJjdXJyZW50SW1hZ2VzIiwiZ3JlZXRpbmciLCJjb3VudFNsaWRlcnMiLCJzbGlkZUxlZnQiLCJzbGlkZVJpZ2h0IiwiaW5pdCIsImFyckltYWdlcyIsInNvcnQiLCJpIiwidGhpcyIsInB1c2giLCJzbGlkZVN3aXRjaCIsInNldEJhY2tncm91bmQiLCJob3VyIiwiRGF0ZSIsImdldEhvdXJzIiwiaW1nIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsInNsaWNlIiwib25sb2FkIiwiYm9keSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiY29sb3IiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJ0aW1lIiwiZGF0ZSIsInNob3dUaW1lIiwidG9kYXkiLCJtb250aCIsImdldE1vbnRoIiwiZGF5IiwiZ2V0RGF0ZSIsImRheU9mV2VlayIsImdldERheSIsImdldE1pbnV0ZXMiLCJzZWMiLCJnZXRTZWNvbmRzIiwiYXBwIiwiaW5uZXJUZXh0Iiwid2VhdGhlckljb24iLCJ0ZW1wZXJhdHVyZSIsIndlYXRoZXJEZXNjcmlwdGlvbiIsImNpdHkiLCJ3ZWF0aGVyIiwiaHVtaWRpdHkiLCJ3aW5kIiwiZ2V0V2VhdGhlciIsImNsYXNzTmFtZSIsIm1lc3NhZ2UiLCJoaWRkZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJpZCIsInJvdW5kIiwibWFpbiIsInRlbXAiLCJkZXNjcmlwdGlvbiIsInRvVXBwZXJDYXNlIiwic3BlZWQiLCJuYW1lIiwiZm9jdXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZXZlbnQiLCJrZXkiLCJrZXlDb2RlIiwic2V0SXRlbSIsInRhcmdldCIsImJsdXIiLCJjb2RlIiwiaGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiXSwibWFwcGluZ3MiOiJzQkFBQSxJQUlJQSxFQUNBQyxFQUxFQyxFQUFZQyxTQUFTQyxjQUFjLFVBQ25DQyxFQUFTRixTQUFTQyxjQUFjLFdBQ2hDRSxFQUFTSCxTQUFTQyxjQUFjLGtCQUtoQ0csRUFBZSxTQUFmQSxFQUFnQkMsRUFBS0MsR0FDekIsSUFBTUMsRUFBU0MsS0FBS0MsTUFBTUQsS0FBS0UsVUFBWUosRUFBTUQsSUFBUUEsRUFDekQsT0FBSUUsSUFBV1QsR0FDYkEsRUFBUVMsRUFDREEsR0FFRkgsRUFBYSxFQUFHUCxJQUduQmMsRUFBVyxXQUNmQyxNQUFNLDZCQUNIQyxNQUFLLFNBQUNOLEdBQUQsT0FBWUEsRUFBT08sVUFDeEJELE1BQUssU0FBQ04sR0FDTFYsRUFBa0JVLEVBQU9RLE9BQ3pCLElBQU1DLEVBQWNaLEVBQWEsRUFBR1AsR0FDcENFLEVBQVVr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QWFDLFFBQVEsU0FBNkJGLEVBQU16RSxZQUFjMEUsYUFBYUMsUUFBUSxTQUEzRCxnQkFFaEIsT0FBakNELGFBQWFDLFFBQVEsU0FBcUQsS0FBakNELGFBQWFDLFFBQVEsU0FDaEVwQixFQUFLdkQsWUFBYyxlQUNuQndELEVBQVF4RCxZQUFjLFVBQ3RCakIsU0FBU0MsY0FBYyxhQUFhOEUsUUFBUyxFQUM3Qy9FLFNBQVNDLGNBQWMsU0FBUzhFLFFBQVMsR0FFekNQLEVBQUt2RCxZQUFjMEUsYUFBYUMsUUFBUSxRQ1o1QzVGLFNBQVNnRCxLQUFLQyxNQUFNbUQsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLE1BRUFELE9BQU9sRixpQkFBaUIsVUFBVSxXQUNoQ25CLFNBQVNnRCxLQUFLQyxNQUFNbUQsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLFUiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcXVvdGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1b3RlJyk7XG5jb25zdCBhdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aG9yJyk7XG5jb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVmcmVzaC1xdW90ZScpO1xuXG5sZXQgbnVtYmVyc09mUXVvdGVzO1xubGV0IGNoZWNrO1xuXG5jb25zdCByYW5kb21OdW1iZXIgPSAobWluLCBtYXgpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xuICBpZiAocmVzdWx0ICE9PSBjaGVjaykge1xuICAgIGNoZWNrID0gcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcigwLCBudW1iZXJzT2ZRdW90ZXMpO1xufTtcblxuY29uc3Qgc2V0UXVvdGUgPSAoKSA9PiB7XG4gIGZldGNoKCcuL2Fzc2V0cy9qc29uL3F1b3Rlcy5qc29uJylcbiAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIG51bWJlcnNPZlF1b3RlcyA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICBjb25zdCByYW5kb21RdW90ZSA9IHJhbmRvbU51bWJlcigwLCBudW1iZXJzT2ZRdW90ZXMpO1xuICAgICAgcXVvdGVUZXh0LnRleHRDb250ZW50ID0gcmVzdWx0W3JhbmRvbVF1b3RlXS5xdW90ZTtcbiAgICAgIGF1dGhvci50ZXh0Q29udGVudCA9IHJlc3VsdFtyYW5kb21RdW90ZV0uYXV0aG9yO1xuICAgIH0pO1xufTtcblxuc2V0UXVvdGUoKTtcblxuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0UXVvdGUpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJjb25zdCBiYWNrZ3JvdW5kID0ge1xuICBjdXJyZW50SW1hZ2VzOiBbXSxcbiAgZ3JlZXRpbmc6IG51bGwsXG4gIGNvdW50U2xpZGVyczogMCxcbiAgc2xpZGVMZWZ0OiBudWxsLFxuICBzbGlkZVJpZ2h0OiBudWxsLFxuXG4gIGluaXQoKSB7XG4gICAgY29uc3QgYXJySW1hZ2VzID0gWycwMScsICcwMicsICcwMycsICcwNCcsICcwNScsXG4gICAgICAnMDYnLCAnMDcnLCAnMDgnLCAnMDknLCAnMTAnLCAnMTEnLCAnMTInLCAnMTMnLFxuICAgICAgJzE0JywgJzE1JywgJzE2JywgJzE3JywgJzE4JywgJzE5JywgJzIwJyxcbiAgICBdO1xuXG4gICAgYXJySW1hZ2VzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyBpICs9IDEpIHtcbiAgICAgIGlmIChpIDwgNikge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9uaWdodC8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgICAgfSBlbHNlIGlmIChpIDwgMTIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvbW9ybmluZy8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgICAgfSBlbHNlIGlmIChpIDwgMTgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvZGF5LyR7YXJySW1hZ2VzW2kgJSA2XX0uanBnXCIpYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9ldmVuaW5nLyR7YXJySW1hZ2VzW2kgJSA2XX0uanBnXCIpYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ncmVldGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmVldGluZycpO1xuICAgIHRoaXMuc2xpZGVMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlLWxlZnQnKTtcbiAgICB0aGlzLnNsaWRlUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtcmlnaHQnKTtcblxuICAgIHRoaXMuc2xpZGVMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jb3VudFNsaWRlcnMgLT0gMTtcbiAgICAgIHRoaXMuc2xpZGVTd2l0Y2goKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2xpZGVSaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzICs9IDE7XG4gICAgICB0aGlzLnNsaWRlU3dpdGNoKCk7XG4gICAgfSk7XG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kKCk7XG4gIH0sXG5cbiAgc2V0QmFja2dyb3VuZCgpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgaG91ciA9IHRvZGF5LmdldEhvdXJzKCk7XG5cbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYCR7dGhpcy5jdXJyZW50SW1hZ2VzW2hvdXJdLnNsaWNlKDUsIC0yKX1gO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5jdXJyZW50SW1hZ2VzW2hvdXJdO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICBpZiAoaG91ciA8IDYpIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBOaWdodCwgJztcbiAgICB9IGVsc2UgaWYgKGhvdXIgPCAxMikge1xuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIE1vcm5pbmcsICc7XG4gICAgfSBlbHNlIGlmIChob3VyIDwgMTgpIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBBZnRlcm5vb24sICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBFdmVuaW5nLCAnO1xuICAgIH1cbiAgfSxcblxuICBzbGlkZVN3aXRjaCgpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgaG91ciA9IHRvZGF5LmdldEhvdXJzKCk7XG4gICAgaWYgKGhvdXIgKyB0aGlzLmNvdW50U2xpZGVycyA8IDApIHtcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzID0gMjMgLSBob3VyO1xuICAgIH1cbiAgICBpZiAoaG91ciArIHRoaXMuY291bnRTbGlkZXJzID4gMjMpIHtcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzID0gLWhvdXI7XG4gICAgfVxuXG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGAke3RoaXMuY3VycmVudEltYWdlc1tob3VyICsgdGhpcy5jb3VudFNsaWRlcnNdLnNsaWNlKDUsIC0yKX1gO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5jdXJyZW50SW1hZ2VzW2hvdXIgKyB0aGlzLmNvdW50U2xpZGVyc107XG4gICAgfTtcblxuICAgIHRoaXMuc2xpZGVMZWZ0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnNsaWRlUmlnaHQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zbGlkZUxlZnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2xpZGVSaWdodC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0sIDEwMDApO1xuICB9LFxufTtcblxuYmFja2dyb3VuZC5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IGJhY2tncm91bmQ7XG4iLCJpbXBvcnQgYXBwIGZyb20gJy4vYmFja2dyb3VuZCc7XG5cbmNvbnN0IHRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZScpO1xuY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJyk7XG5cbmNvbnN0IHNob3dUaW1lID0gKCkgPT4ge1xuICBjb25zdCBtb250aE5hbWVzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG4gIGNvbnN0IGRheU5hbWVzID0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddO1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKTtcbiAgY29uc3QgZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpO1xuICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgY29uc3QgaG91ciA9IHRvZGF5LmdldEhvdXJzKCk7XG4gIGNvbnN0IG1pbiA9IHRvZGF5LmdldE1pbnV0ZXMoKTtcbiAgY29uc3Qgc2VjID0gdG9kYXkuZ2V0U2Vjb25kcygpO1xuICBpZiAobWluID09PSAwICYmIHNlYyA9PT0gMCkge1xuICAgIGFwcC5zZXRCYWNrZ3JvdW5kKCk7XG4gIH1cblxuICB0aW1lLmlubmVyVGV4dCA9IGAke2hvdXJ9OiR7K21pbiA8IDEwID8gJzAnIDogJyd9JHttaW59OiR7K3NlYyA8IDEwID8gJzAnIDogJyd9JHtzZWN9YDtcbiAgZGF0ZS5pbm5lclRleHQgPSBgJHtkYXlOYW1lc1tkYXlPZldlZWtdfSwgJHtkYXl9ICR7bW9udGhOYW1lc1ttb250aF19YDtcblxuICBzZXRUaW1lb3V0KHNob3dUaW1lLCAxMDAwKTtcbn07XG5cbnNob3dUaW1lKCk7XG4iLCJjb25zdCB3ZWF0aGVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKTtcbmNvbnN0IHRlbXBlcmF0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlJyk7XG5jb25zdCB3ZWF0aGVyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5Jyk7XG5jb25zdCB3ZWF0aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItZGVzY3JpcHRpb24nKTtcbmNvbnN0IGh1bWlkaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5LWluZm8nKTtcbmNvbnN0IHdpbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZC1pbmZvJyk7XG5cbmNvbnN0IGdldFdlYXRoZXIgPSAoKSA9PiB7XG4gIGlmIChjaXR5LnRleHRDb250ZW50ICE9PSAnJyAmJiBjaXR5LnRleHRDb250ZW50ICE9PSAnW0VudGVyIENpdHldJykge1xuICAgIHdlYXRoZXJJY29uLmNsYXNzTmFtZSA9ICd3ZWF0aGVyLWljb24gb3dmJztcblxuICAgIGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eS50ZXh0Q29udGVudH0mbGFuZz1lbiZhcHBpZD04NWQwNjAyMWY1NzZhNGU0NmJjMmY1MDg0ZDZhNmU4NyZ1bml0cz1tZXRyaWNgKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlID09PSAnY2l0eSBub3QgZm91bmQnKSB7XG4gICAgICAgICAgY2l0eS50ZXh0Q29udGVudCA9ICdDaXR5IG5vdCBmb3VuZCc7XG4gICAgICAgICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUnKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZScpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgIHdlYXRoZXJJY29uLmNsYXNzTGlzdC5hZGQoYG93Zi0ke3Jlc3VsdC53ZWF0aGVyWzBdLmlkfWApO1xuICAgICAgICAgIHRlbXBlcmF0dXJlLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZChyZXN1bHQubWFpbi50ZW1wKX3CsENgO1xuICAgICAgICAgIHdlYXRoZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHJlc3VsdC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uWzBdLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICArIHJlc3VsdC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLnNsaWNlKDEpO1xuICAgICAgICAgIGh1bWlkaXR5LnRleHRDb250ZW50ID0gcmVzdWx0Lm1haW4uaHVtaWRpdHk7XG4gICAgICAgICAgd2luZC50ZXh0Q29udGVudCA9IHJlc3VsdC53aW5kLnNwZWVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0V2VhdGhlcjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGdldFdlYXRoZXIpO1xuIiwiaW1wb3J0IGdldFdlYXRoZXIgZnJvbSAnLi93ZWF0aGVyJztcblxuY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJyk7XG5jb25zdCBmb2N1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb2N1cycpO1xuY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5Jyk7XG5jb25zdCB3ZWF0aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItZGVzY3JpcHRpb24nKTtcblxuY29uc3QgZ2V0RGF0YSA9ICgpID0+IHtcbiAgbmFtZS50ZXh0Q29udGVudCA9ICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpID8gJ1tFbnRlciBOYW1lXScgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpO1xuICBmb2N1cy50ZXh0Q29udGVudCA9ICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKSA/ICdbRW50ZXIgRm9jdXNdJyA6IGZvY3VzLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJyk7XG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gJycpIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gJ1tFbnRlciBDaXR5XSc7XG4gICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHknKS5oaWRkZW4gPSB0cnVlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kJykuaGlkZGVuID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKTtcbiAgfVxufTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmFtZS50ZXh0Q29udGVudCA9IG51bGw7XG59KTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJyk7XG59KTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIG5hbWUuYmx1cigpO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gIH1cbn0pO1xuXG5mb2N1cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9jdXMudGV4dENvbnRlbnQgPSBudWxsO1xufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIGZvY3VzLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpID8gJ1tFbnRlciBOYW1lXScgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKTtcbn0pO1xuXG5mb2N1cy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9jdXMnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICBmb2N1cy5ibHVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZvY3VzJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gIH1cbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjaXR5LnRleHRDb250ZW50ID0gbnVsbDtcbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09ICcnKSB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9ICdbRW50ZXIgQ2l0eV0nO1xuICAgIHdlYXRoZXIudGV4dENvbnRlbnQgPSAnV2VhdGhlcic7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWluZm8nKS5oaWRkZW4gPSB0cnVlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpO1xuICB9XG59KTtcblxuY2l0eS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS1pbmZvJykuaGlkZGVuID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBjaXR5LmJsdXIoKTtcbiAgICBnZXRXZWF0aGVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NpdHknLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmNvbnN0IHNldENpdHkgPSAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICBnZXRXZWF0aGVyKCk7XG4gICAgY2l0eS5ibHVyKCk7XG4gIH1cbn07XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBzZXRDaXR5KTtcblxuZ2V0RGF0YSgpO1xuIiwiaW1wb3J0ICcuL3F1b3Rlcyc7XG5pbXBvcnQgJy4vdGltZSc7XG5pbXBvcnQgJy4vYmFja2dyb3VuZCc7XG5pbXBvcnQgJy4vc2V0RGF0YSc7XG5cbmRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9