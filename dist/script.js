(()=>{var e={674:()=>{var e,t,n=document.querySelector(".quote"),o=document.querySelector(".author"),r=document.querySelector(".refresh-quote"),c=function n(o,r){var c=Math.floor(Math.random()*(r-o))+o;return c!==t?(t=c,c):n(0,e)},i=function(){fetch("./assets/json/quotes.json").then((function(e){return e.json()})).then((function(t){e=t.length;var r=c(0,e);n.textContent=t[r].quote,o.textContent=t[r].author}))};i(),r.addEventListener("click",i)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}(()=>{"use strict";n(674);var e={currentImages:[],greeting:null,countSliders:0,slideLeft:null,slideRight:null,today:new Date,init:function(){var e=this,t=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20"];t.sort((function(){return Math.random()-.5}));for(var n=0;n<24;n+=1)n<6?this.currentImages.push('url("assets/images/night/'.concat(t[n%6],'.jpg")')):n<12?this.currentImages.push('url("assets/images/morning/'.concat(t[n%6],'.jpg")')):n<18?this.currentImages.push('url("assets/images/day/'.concat(t[n%6],'.jpg")')):this.currentImages.push('url("assets/images/evening/'.concat(t[n%6],'.jpg")'));this.greeting=document.querySelector(".greeting"),this.slideLeft=document.querySelector(".slide-left"),this.slideRight=document.querySelector(".slide-right"),this.slideLeft.addEventListener("click",(function(){e.countSliders-=1,e.slideSwitch()})),this.slideRight.addEventListener("click",(function(){e.countSliders+=1,e.slideSwitch()})),this.setBackground()},setBackground:function(){var e=this,t=this.today.getHours(),n=document.createElement("img");n.src="".concat(this.currentImages[t].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=e.currentImages[t]})),this.greeting.textContent=t<6?"Good Night, ":t<12?"Good Morning, ":t<18?"Good Afternoon, ":"Good Evening, "},slideSwitch:function(){var e=this,t=this.today.getHours();t+this.countSliders<0&&(this.countSliders=23-t),t+this.countSliders>23&&(this.countSliders=-t);var n=document.createElement("img");n.src="".concat(this.currentImages[t+this.countSliders].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=e.currentImages[t+e.countSliders]})),this.slideLeft.disabled=!0,this.slideRight.disabled=!0,setTimeout((function(){e.slideLeft.disabled=!1,e.slideRight.disabled=!1}),1e3)}};e.init();const t=e;var o=document.querySelector(".time"),r=document.querySelector(".date");!function e(){var n=new Date,c=n.getMonth(),i=n.getDate(),a=n.getDay(),d=n.getHours(),u=n.getMinutes(),s=n.getSeconds();0===u&&0===s&&t.setBackground(),o.innerText="".concat(d,":").concat(+u<10?"0":"").concat(u,":").concat(+s<10?"0":"").concat(s),r.innerText="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(i," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]),setTimeout(e,1e3)}();var c=document.querySelector(".weather-icon"),i=document.querySelector(".temperature"),a=document.querySelector(".weather-description"),d=document.querySelector(".city"),u=document.querySelector(".weather-description"),s=document.querySelector(".humidity-info"),l=document.querySelector(".wind-info"),m=function(){""!==d.textContent&&"[Enter City]"!==d.textContent&&(c.className="weather-icon owf",fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(d.textContent,"&lang=en&appid=85d06021f576a4e46bc2f5084d6a6e87&units=metric")).then((function(e){return e.json()})).then((function(e){"city not found"===e.message?(d.textContent="City not found",u.textContent="Weather",document.querySelector(".temperature").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):(document.querySelector(".temperature").hidden=!1,c.classList.add("owf-".concat(e.weather[0].id)),i.textContent="".concat(Math.round(e.main.temp),"Â°C"),a.textContent=e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1),s.textContent=e.main.humidity,l.textContent=e.wind.speed)})))};const g=m;document.addEventListener("DOMContentLoaded",m);var h=document.querySelector(".name"),y=document.querySelector(".focus"),S=document.querySelector(".city"),f=document.querySelector(".weather-description");h.addEventListener("click",(function(){h.textContent=null})),h.addEventListener("blur",(function(){h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]"})),h.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("name",e.target.innerText),h.blur()):localStorage.setItem("name",e.target.innerText)})),y.addEventListener("click",(function(){y.textContent=null})),y.addEventListener("blur",(function(){y.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter Name]"})),y.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("focus",e.target.innerText),y.blur()):localStorage.setItem("focus",e.target.innerText)})),S.addEventListener("click",(function(){S.textContent=null})),S.addEventListener("blur",(function(){null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".temperature-info").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city")})),S.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("city",e.target.innerText),document.querySelector(".temperature-info").hidden=!1,document.querySelector(".humidity").hidden=!1,document.querySelector(".wind").hidden=!1,S.blur(),g()):localStorage.setItem("city",e.target.innerText)})),S.addEventListener("keypress",(function(e){"Enter"===e.code&&(g(),S.blur())})),h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]",y.textContent=localStorage.getItem("focus")?y.textContent=localStorage.getItem("focus"):"[Enter Focus]",null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city"),document.body.style.height="".concat(window.innerHeight,"px"),window.addEventListener("resize",(function(){document.body.style.height="".concat(window.innerHeight,"px")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9xdW90ZXMuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy90aW1lLmpzIiwid2VicGFjazovL21vbWVudHVtLy4vc3JjL2pzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvc2V0RGF0YS5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJudW1iZXJzT2ZRdW90ZXMiLCJjaGVjayIsInF1b3RlVGV4dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF1dGhvciIsImJ1dHRvbiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsInJlc3VsdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldFF1b3RlIiwiZmV0Y2giLCJ0aGVuIiwianNvbiIsImxlbmd0aCIsInJhbmRvbVF1b3RlIiwidGV4dENvbnRlbnQiLCJxdW90ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImJhY2tncm91bmQiLCJjdXJyZW50SW1hZ2VzIiwiZ3JlZXRpbmciLCJjb3VudFNsaWRlcnMiLCJzbGlkZUxlZnQiLCJzbGlkZVJpZ2h0IiwidG9kYXkiLCJEYXRlIiwiaW5pdCIsImFyckltYWdlcyIsInNvcnQiLCJpIiwidGhpcyIsInB1c2giLCJzbGlkZVN3aXRjaCIsInNldEJhY2tncm91bmQiLCJob3VyIiwiZ2V0SG91cnMiLCJpbWciLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic2xpY2UiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJ0aW1lIiwiZGF0ZSIsInNob3dUaW1lIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJnZXRNaW51dGVzIiwic2VjIiwiZ2V0U2Vjb25kcyIsImlubmVyVGV4dCIsIndlYXRoZXJJY29uIiwidGVtcGVyYXR1cmUiLCJ3ZWF0aGVyRGVzY3JpcHRpb24iLCJjaXR5Iiwid2VhdGhlciIsImh1bWlkaXR5Iiwid2luZCIsImdldFdlYXRoZXIiLCJjbGFzc05hbWUiLCJtZXNzYWdlIiwiaGlkZGVuIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJyb3VuZCIsIm1haW4iLCJ0ZW1wIiwiZGVzY3JpcHRpb24iLCJ0b1VwcGVyQ2FzZSIsInNwZWVkIiwibmFtZSIsImZvY3VzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImV2ZW50Iiwia2V5Iiwia2V5Q29kZSIsInNldEl0ZW0iLCJ0YXJnZXQiLCJibHVyIiwiY29kZSIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoic0JBQUEsSUFJSUEsRUFDQUMsRUFMRUMsRUFBWUMsU0FBU0MsY0FBYyxVQUNuQ0MsRUFBU0YsU0FBU0MsY0FBYyxXQUNoQ0UsRUFBU0gsU0FBU0MsY0FBYyxrQkFLaENHLEVBQWUsU0FBZkEsRUFBZ0JDLEVBQUtDLEdBQ3pCLElBQU1DLEVBQVNDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlKLEVBQU1ELElBQVFBLEVBQ3pELE9BQUlFLElBQVdULEdBQ2JBLEVBQVFTLEVBQ0RBLEdBRUZILEVBQWEsRUFBR1AsSUFHbkJjLEVBQVcsV0FDZkMsTUFBTSw2QkFDSEMsTUFBSyxTQUFDTixHQUFELE9BQVlBLEVBQU9PLFVBQ3hCRCxNQUFLLFNBQUNOLEdBQ0xWLEVBQWtCVSxFQUFPUSxPQUN6QixJQUFNQyxFQUFjWixFQUFhLEVBQUdQLEdBQ3BDRSxF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QUFhQyxRQUFRLFFBQXRDLGVBQ25ERixFQUFNeEUsWUFBZXlFLGFBQWFDLFFBQVEsU0FBNkJGLEVBQU14RSxZQUFjeUUsYUFBYUMsUUFBUSxTQUEzRCxnQkFFaEIsT0FBakNELGFBQWFDLFFBQVEsU0FBcUQsS0FBakNELGFBQWFDLFFBQVEsU0FDaEVwQixFQUFLdEQsWUFBYyxlQUNuQnVELEVBQVF2RCxZQUFjLFVBQ3RCakIsU0FBU0MsY0FBYyxhQUFhNkUsUUFBUyxFQUM3QzlFLFNBQVNDLGNBQWMsU0FBUzZFLFFBQVMsR0FFekNQLEVBQUt0RCxZQUFjeUUsYUFBYUMsUUFBUSxRQ1o1QzNGLFNBQVNrRCxLQUFLQyxNQUFNZ0QsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLE1BRUFELE9BQU9qRixpQkFBaUIsVUFBVSxXQUNoQ25CLFNBQVNrRCxLQUFLQyxNQUFNZ0QsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLFUiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcXVvdGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1b3RlJyk7XHJcbmNvbnN0IGF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdXRob3InKTtcclxuY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZnJlc2gtcXVvdGUnKTtcclxuXHJcbmxldCBudW1iZXJzT2ZRdW90ZXM7XHJcbmxldCBjaGVjaztcclxuXHJcbmNvbnN0IHJhbmRvbU51bWJlciA9IChtaW4sIG1heCkgPT4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcclxuICBpZiAocmVzdWx0ICE9PSBjaGVjaykge1xyXG4gICAgY2hlY2sgPSByZXN1bHQ7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICByZXR1cm4gcmFuZG9tTnVtYmVyKDAsIG51bWJlcnNPZlF1b3Rlcyk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRRdW90ZSA9ICgpID0+IHtcclxuICBmZXRjaCgnLi9hc3NldHMvanNvbi9xdW90ZXMuanNvbicpXHJcbiAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxyXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICBudW1iZXJzT2ZRdW90ZXMgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgICBjb25zdCByYW5kb21RdW90ZSA9IHJhbmRvbU51bWJlcigwLCBudW1iZXJzT2ZRdW90ZXMpO1xyXG4gICAgICBxdW90ZVRleHQudGV4dENvbnRlbnQgPSByZXN1bHRbcmFuZG9tUXVvdGVdLnF1b3RlO1xyXG4gICAgICBhdXRob3IudGV4dENvbnRlbnQgPSByZXN1bHRbcmFuZG9tUXVvdGVdLmF1dGhvcjtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuc2V0UXVvdGUoKTtcclxuXHJcbmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldFF1b3RlKTtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IGJhY2tncm91bmQgPSB7XHJcbiAgY3VycmVudEltYWdlczogW10sXHJcbiAgZ3JlZXRpbmc6IG51bGwsXHJcbiAgY291bnRTbGlkZXJzOiAwLFxyXG4gIHNsaWRlTGVmdDogbnVsbCxcclxuICBzbGlkZVJpZ2h0OiBudWxsLFxyXG4gIHRvZGF5OiBuZXcgRGF0ZSgpLFxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgYXJySW1hZ2VzID0gWycwMScsICcwMicsICcwMycsICcwNCcsICcwNScsXHJcbiAgICAgICcwNicsICcwNycsICcwOCcsICcwOScsICcxMCcsICcxMScsICcxMicsICcxMycsXHJcbiAgICAgICcxNCcsICcxNScsICcxNicsICcxNycsICcxOCcsICcxOScsICcyMCcsXHJcbiAgICBdO1xyXG5cclxuICAgIGFyckltYWdlcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkgKz0gMSkge1xyXG4gICAgICBpZiAoaSA8IDYpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9uaWdodC8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xyXG4gICAgICB9IGVsc2UgaWYgKGkgPCAxMikge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL21vcm5pbmcvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcclxuICAgICAgfSBlbHNlIGlmIChpIDwgMTgpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9kYXkvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWFnZXMucHVzaChgdXJsKFwiYXNzZXRzL2ltYWdlcy9ldmVuaW5nLyR7YXJySW1hZ2VzW2kgJSA2XX0uanBnXCIpYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdyZWV0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyZWV0aW5nJyk7XHJcbiAgICB0aGlzLnNsaWRlTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS1sZWZ0Jyk7XHJcbiAgICB0aGlzLnNsaWRlUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtcmlnaHQnKTtcclxuXHJcbiAgICB0aGlzLnNsaWRlTGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5jb3VudFNsaWRlcnMgLT0gMTtcclxuICAgICAgdGhpcy5zbGlkZVN3aXRjaCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zbGlkZVJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvdW50U2xpZGVycyArPSAxO1xyXG4gICAgICB0aGlzLnNsaWRlU3dpdGNoKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNldEJhY2tncm91bmQoKTtcclxuICB9LFxyXG5cclxuICBzZXRCYWNrZ3JvdW5kKCkge1xyXG4gICAgY29uc3QgaG91ciA9IHRoaXMudG9kYXkuZ2V0SG91cnMoKTtcclxuXHJcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGltZy5zcmMgPSBgJHt0aGlzLmN1cnJlbnRJbWFnZXNbaG91cl0uc2xpY2UoNSwgLTIpfWA7XHJcblxyXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5jdXJyZW50SW1hZ2VzW2hvdXJdO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGhvdXIgPCA2KSB7XHJcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBOaWdodCwgJztcclxuICAgIH0gZWxzZSBpZiAoaG91ciA8IDEyKSB7XHJcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBNb3JuaW5nLCAnO1xyXG4gICAgfSBlbHNlIGlmIChob3VyIDwgMTgpIHtcclxuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIEFmdGVybm9vbiwgJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBFdmVuaW5nLCAnO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHNsaWRlU3dpdGNoKCkge1xyXG4gICAgY29uc3QgaG91ciA9IHRoaXMudG9kYXkuZ2V0SG91cnMoKTtcclxuICAgIGlmIChob3VyICsgdGhpcy5jb3VudFNsaWRlcnMgPCAwKSB7XHJcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzID0gMjMgLSBob3VyO1xyXG4gICAgfVxyXG4gICAgaWYgKGhvdXIgKyB0aGlzLmNvdW50U2xpZGVycyA+IDIzKSB7XHJcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzID0gLWhvdXI7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBpbWcuc3JjID0gYCR7dGhpcy5jdXJyZW50SW1hZ2VzW2hvdXIgKyB0aGlzLmNvdW50U2xpZGVyc10uc2xpY2UoNSwgLTIpfWA7XHJcblxyXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdGhpcy5jdXJyZW50SW1hZ2VzW2hvdXIgKyB0aGlzLmNvdW50U2xpZGVyc107XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNsaWRlTGVmdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLnNsaWRlUmlnaHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2xpZGVMZWZ0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc2xpZGVSaWdodC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfSwgMTAwMCk7XHJcbiAgfSxcclxufTtcclxuXHJcbmJhY2tncm91bmQuaW5pdCgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYmFja2dyb3VuZDtcclxuIiwiaW1wb3J0IGJhY2tncm91bmQgZnJvbSAnLi9iYWNrZ3JvdW5kJztcblxuY29uc3QgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lJyk7XG5jb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUnKTtcblxuY29uc3Qgc2hvd1RpbWUgPSAoKSA9PiB7XG4gIGNvbnN0IG1vbnRoTmFtZXMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcbiAgY29uc3QgZGF5TmFtZXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgbW9udGggPSB0b2RheS5nZXRNb250aCgpO1xuICBjb25zdCBkYXkgPSB0b2RheS5nZXREYXRlKCk7XG4gIGNvbnN0IGRheU9mV2VlayA9IHRvZGF5LmdldERheSgpO1xuICBjb25zdCBob3VyID0gdG9kYXkuZ2V0SG91cnMoKTtcbiAgY29uc3QgbWluID0gdG9kYXkuZ2V0TWludXRlcygpO1xuICBjb25zdCBzZWMgPSB0b2RheS5nZXRTZWNvbmRzKCk7XG4gIGlmIChtaW4gPT09IDAgJiYgc2VjID09PSAwKSB7XG4gICAgYmFja2dyb3VuZC5zZXRCYWNrZ3JvdW5kKCk7XG4gIH1cblxuICB0aW1lLmlubmVyVGV4dCA9IGAke2hvdXJ9OiR7K21pbiA8IDEwID8gJzAnIDogJyd9JHttaW59OiR7K3NlYyA8IDEwID8gJzAnIDogJyd9JHtzZWN9YDtcbiAgZGF0ZS5pbm5lclRleHQgPSBgJHtkYXlOYW1lc1tkYXlPZldlZWtdfSwgJHtkYXl9ICR7bW9udGhOYW1lc1ttb250aF19YDtcblxuICBzZXRUaW1lb3V0KHNob3dUaW1lLCAxMDAwKTtcbn07XG5cbnNob3dUaW1lKCk7XG4iLCJjb25zdCB3ZWF0aGVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKTtcbmNvbnN0IHRlbXBlcmF0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlJyk7XG5jb25zdCB3ZWF0aGVyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5Jyk7XG5jb25zdCB3ZWF0aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItZGVzY3JpcHRpb24nKTtcbmNvbnN0IGh1bWlkaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5LWluZm8nKTtcbmNvbnN0IHdpbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZC1pbmZvJyk7XG5cbmNvbnN0IGdldFdlYXRoZXIgPSAoKSA9PiB7XG4gIGlmIChjaXR5LnRleHRDb250ZW50ICE9PSAnJyAmJiBjaXR5LnRleHRDb250ZW50ICE9PSAnW0VudGVyIENpdHldJykge1xuICAgIHdlYXRoZXJJY29uLmNsYXNzTmFtZSA9ICd3ZWF0aGVyLWljb24gb3dmJztcblxuICAgIGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eS50ZXh0Q29udGVudH0mbGFuZz1lbiZhcHBpZD04NWQwNjAyMWY1NzZhNGU0NmJjMmY1MDg0ZDZhNmU4NyZ1bml0cz1tZXRyaWNgKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5tZXNzYWdlID09PSAnY2l0eSBub3QgZm91bmQnKSB7XG4gICAgICAgICAgY2l0eS50ZXh0Q29udGVudCA9ICdDaXR5IG5vdCBmb3VuZCc7XG4gICAgICAgICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUnKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZScpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgIHdlYXRoZXJJY29uLmNsYXNzTGlzdC5hZGQoYG93Zi0ke3Jlc3VsdC53ZWF0aGVyWzBdLmlkfWApO1xuICAgICAgICAgIHRlbXBlcmF0dXJlLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZChyZXN1bHQubWFpbi50ZW1wKX3CsENgO1xuICAgICAgICAgIHdlYXRoZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHJlc3VsdC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uWzBdLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICArIHJlc3VsdC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLnNsaWNlKDEpO1xuICAgICAgICAgIGh1bWlkaXR5LnRleHRDb250ZW50ID0gcmVzdWx0Lm1haW4uaHVtaWRpdHk7XG4gICAgICAgICAgd2luZC50ZXh0Q29udGVudCA9IHJlc3VsdC53aW5kLnNwZWVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0V2VhdGhlcjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGdldFdlYXRoZXIpO1xuIiwiaW1wb3J0IGdldFdlYXRoZXIgZnJvbSAnLi93ZWF0aGVyJztcblxuY29uc3QgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJyk7XG5jb25zdCBmb2N1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb2N1cycpO1xuY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5Jyk7XG5jb25zdCB3ZWF0aGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItZGVzY3JpcHRpb24nKTtcblxuY29uc3QgZ2V0RGF0YSA9ICgpID0+IHtcbiAgbmFtZS50ZXh0Q29udGVudCA9ICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpID8gJ1tFbnRlciBOYW1lXScgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpO1xuICBmb2N1cy50ZXh0Q29udGVudCA9ICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKSA/ICdbRW50ZXIgRm9jdXNdJyA6IGZvY3VzLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJyk7XG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gJycpIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gJ1tFbnRlciBDaXR5XSc7XG4gICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHknKS5oaWRkZW4gPSB0cnVlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kJykuaGlkZGVuID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKTtcbiAgfVxufTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmFtZS50ZXh0Q29udGVudCA9IG51bGw7XG59KTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJyk7XG59KTtcblxubmFtZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIG5hbWUuYmx1cigpO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gIH1cbn0pO1xuXG5mb2N1cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9jdXMudGV4dENvbnRlbnQgPSBudWxsO1xufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIGZvY3VzLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpID8gJ1tFbnRlciBOYW1lXScgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKTtcbn0pO1xuXG5mb2N1cy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9jdXMnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICBmb2N1cy5ibHVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZvY3VzJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gIH1cbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjaXR5LnRleHRDb250ZW50ID0gbnVsbDtcbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09ICcnKSB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9ICdbRW50ZXIgQ2l0eV0nO1xuICAgIHdlYXRoZXIudGV4dENvbnRlbnQgPSAnV2VhdGhlcic7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWluZm8nKS5oaWRkZW4gPSB0cnVlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpO1xuICB9XG59KTtcblxuY2l0eS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZS1pbmZvJykuaGlkZGVuID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gZmFsc2U7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBjaXR5LmJsdXIoKTtcbiAgICBnZXRXZWF0aGVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NpdHknLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmNvbnN0IHNldENpdHkgPSAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICBnZXRXZWF0aGVyKCk7XG4gICAgY2l0eS5ibHVyKCk7XG4gIH1cbn07XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBzZXRDaXR5KTtcblxuZ2V0RGF0YSgpO1xuIiwiaW1wb3J0ICcuL3F1b3Rlcyc7XHJcbmltcG9ydCAnLi90aW1lJztcclxuaW1wb3J0ICcuL2JhY2tncm91bmQnO1xyXG5pbXBvcnQgJy4vc2V0RGF0YSc7XHJcblxyXG5kb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lckhlaWdodH1weGA7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YDtcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=