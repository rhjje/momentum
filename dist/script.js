(()=>{"use strict";(()=>{const e=function(){var e,t,n=document.querySelector(".quote"),o=document.querySelector(".author"),r=document.querySelector(".refresh-quote"),a=function n(o,r){var a=Math.floor(Math.random()*(r-o))+o;return a!==t?(t=a,a):n(0,e)},c=function(){fetch("./assets/json/quotes.json").then((function(e){return e.json()})).then((function(t){e=t.length;var r=a(0,e);n.textContent=t[r].quote,o.textContent=t[r].author})).catch((function(){n.textContent="An Error Occurred, Please Try Again Later (:"}))};c(),r.addEventListener("click",c)},t=function(){var e=document.querySelector(".city"),t=document.querySelector(".temperature"),n=document.querySelector(".temperature-info"),o=document.querySelector(".weather-description"),r=document.querySelector(".weather-icon"),a=document.querySelector(".humidity-info"),c=document.querySelector(".wind-info"),i=function(e){t.hidden=e,n.hidden=e,a.parentNode.hidden=e,c.parentNode.hidden=e,r.hidden=e};localStorage.getItem("city")?fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(localStorage.getItem("city"),"&lang=en&appid=85d06021f576a4e46bc2f5084d6a6e87&units=metric")).then((function(e){return e.json()})).then((function(n){i(!1),r.classList.add("owf-".concat(n.weather[0].id)),t.textContent="".concat(Math.round(n.main.temp),"Â°C"),o.textContent=n.weather[0].description[0].toUpperCase()+n.weather[0].description.slice(1),a.textContent=n.main.humidity,c.textContent=n.wind.speed;var u=localStorage.getItem("city");e.textContent=u[0].toUpperCase()+u.slice(1)})).catch((function(){o.textContent="City not found",e.textContent="Please try again",i(!0)})):(e.textContent="[Enter City]",o.textContent="Weather",a.parentNode.hidden=!0,c.parentNode.hidden=!0)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const o=function(){for(var e=document.querySelector(".greeting"),t=document.querySelector(".slide-left"),o=document.querySelector(".slide-right"),r=document.querySelector(".time"),a=document.querySelector(".date"),c=(d=Array(20).keys(),function(e){if(Array.isArray(e))return n(e)}(d)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e+1<10?"0".concat(e+1):"".concat(e+1)})).sort((function(){return Math.random()-.5})),i=[],u=0;u<24;u+=1)u<6?i.push('url("assets/images/night/'.concat(c[u%6],'.jpg")')):u<12?i.push('url("assets/images/morning/'.concat(c[u%6],'.jpg")')):u<18?i.push('url("assets/images/day/'.concat(c[u%6],'.jpg")')):i.push('url("assets/images/evening/'.concat(c[u%6],'.jpg")'));var d,s=function(){var t=(new Date).getHours(),n=document.createElement("img");n.src="".concat(i[t].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=i[t]})),e.textContent=t<6?"Good Night, ":t<12?"Good Morning, ":t<18?"Good Afternoon, ":"Good Evening, "};s();var l=0,m=function(){var e=(new Date).getHours();e+l<0&&(l=23-e),e+l>23&&(l=-e);var n=document.createElement("img");n.src="".concat(i[e+l].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=i[e+l]})),t.disabled=!0,o.disabled=!0,setTimeout((function(){t.disabled=!1,o.disabled=!1}),1e3)};t.addEventListener("click",(function(){l-=1,m()})),o.addEventListener("click",(function(){l+=1,m()})),function e(){var t=new Date,n=t.getMonth(),o=t.getDate(),c=t.getDay(),i=t.getHours(),u=t.getMinutes(),d=t.getSeconds();0===u&&0===d&&s(),r.innerText="".concat(i,":").concat(+u<10?"0":"").concat(u,":").concat(+d<10?"0":"").concat(d),a.innerText="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c],", ").concat(o," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][n]),setTimeout(e,1e3)}()};document.addEventListener("DOMContentLoaded",(function(){var n,r,a;n=document.querySelector(".name"),r=document.querySelector(".focus"),a=document.querySelector(".city"),n.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]",r.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter Focus]",n.addEventListener("click",(function(){n.textContent=""})),n.addEventListener("blur",(function(e){e.target.innerText?(localStorage.setItem("name",e.target.innerText),n.textContent=e.target.innerText):n.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]"})),n.addEventListener("keydown",(function(e){"Enter"!==e.key&&13!==e.keyCode||(localStorage.setItem("name",e.target.innerText),n.blur())})),r.addEventListener("click",(function(){r.textContent=""})),r.addEventListener("blur",(function(e){e.target.innerText?(localStorage.setItem("focus",e.target.innerText),r.textContent=e.target.innerText):r.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter City]"})),r.addEventListener("keydown",(function(e){"Enter"!==e.key&&13!==e.keyCode||(localStorage.setItem("focus",e.target.innerText),r.blur())})),a.addEventListener("click",(function(){a.textContent=""})),a.addEventListener("blur",(function(e){e.target.innerText&&localStorage.setItem("city",e.target.innerText),t()})),a.addEventListener("keydown",(function(e){"Enter"!==e.key&&13!==e.keyCode||(localStorage.setItem("city",e.target.innerText),a.blur())})),e(),t(),o()})),document.body.style.height="".concat(window.innerHeight,"px"),window.addEventListener("resize",(function(){document.body.style.height="".concat(window.innerHeight,"px")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9tb2R1bGVzL3F1b3Rlcy5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9tb2R1bGVzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvbW9kdWxlcy9hcHAuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvbW9kdWxlcy9zZXREYXRhLmpzIl0sIm5hbWVzIjpbIm51bWJlck9mUXVvdGVzIiwiY2hlY2siLCJxdW90ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF1dGhvciIsImJ1dHRvbiIsImdldFJhbmRvbVF1b3RlIiwibWluIiwibWF4IiwicmVzdWx0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2V0UXVvdGUiLCJmZXRjaCIsInRoZW4iLCJkYXRhIiwianNvbiIsImxlbmd0aCIsInJhbmRvbVF1b3RlIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2l0eSIsInRlbXBlcmF0dXJlIiwidGVtcGVyYXR1cmVJbmZvIiwiZGVzY3JpcHRpb24iLCJ3ZWF0aGVySWNvbiIsImh1bWlkaXR5Iiwid2luZCIsImhpZGVFbGVtZW50cyIsImJvb2xlYW4iLCJoaWRkZW4iLCJwYXJlbnROb2RlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNsYXNzTGlzdCIsImFkZCIsIndlYXRoZXIiLCJpZCIsInJvdW5kIiwibWFpbiIsInRlbXAiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwic3BlZWQiLCJjaXR5TmFtZSIsImdyZWV0aW5nIiwic2xpZGVMZWZ0Iiwic2xpZGVSaWdodCIsInRpbWUiLCJkYXRlIiwiYXJySW1hZ2VzIiwiQXJyYXkiLCJrZXlzIiwibWFwIiwiaXRlbSIsInNvcnQiLCJ1cmxzSW1hZ2VzIiwiaSIsInB1c2giLCJzZXRCYWNrZ3JvdW5kIiwiaG91ciIsIkRhdGUiLCJnZXRIb3VycyIsImltZyIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJjb3VudFNsaWRlcnMiLCJzbGlkZVN3aXRjaCIsImRpc2FibGVkIiwic2V0VGltZW91dCIsInNob3dUaW1lIiwibm93IiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJnZXRNaW51dGVzIiwic2VjIiwiZ2V0U2Vjb25kcyIsImlubmVyVGV4dCIsIm5hbWUiLCJmb2N1cyIsImV2ZW50IiwidGFyZ2V0Iiwic2V0SXRlbSIsImtleSIsImtleUNvZGUiLCJibHVyIiwic2V0V2VhdGhlciIsInF1b3RlcyIsImFwcCIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoieUJBbUNBLFFBbkNlLFdBQ2IsSUFJSUEsRUFDQUMsRUFMRUMsRUFBUUMsU0FBU0MsY0FBYyxVQUMvQkMsRUFBU0YsU0FBU0MsY0FBYyxXQUNoQ0UsRUFBU0gsU0FBU0MsY0FBYyxrQkFLaENHLEVBQWlCLFNBQWpCQSxFQUFrQkMsRUFBS0MsR0FDM0IsSUFBTUMsRUFBU0MsS0FBS0MsTUFBTUQsS0FBS0UsVUFBWUosRUFBTUQsSUFBUUEsRUFDekQsT0FBSUUsSUFBV1QsR0FDYkEsRUFBUVMsRUFDREEsR0FFRkgsRUFBZSxFQUFHUCxJQUdyQmMsRUFBVyxXQUNmQyxNQUFNLDZCQUNIQyxNQUFLLFNBQUNDLEdBQUQsT0FBVUEsRUFBS0MsVUFDcEJGLE1BQUssU0FBQ0MsR0FDTGpCLEVBQWlCaUIsRUFBS0UsT0FDdEIsSUFBTUMsRUFBY2IsRUFBZSxFQUFHUCxHQUN0Q0UsRUFBTW1CLFlBQWNKLEVBQUtHLEdBQWFsQixNQUN0Q0csRUFBT2dCLFlBQWNKLEVBQUtHLEdBQWFmLFVBTjNDLE9BT1csV0FDUEgsRUFBTW1CLFlBQWMsbURBSTFCUCxJQUVBUixFQUFPZ0IsaUJBQWlCLFFBQVNSLElDV25DLEVBM0NtQixXQUNqQixJ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LEVBQUtELGlCQUFpQixTQUFTLFdBQzdCQyxFQUFLRixZQUFjLE1BR3JCRSxFQUFLRCxpQkFBaUIsUUFBUSxTQUFDbUUsR0FDekJBLEVBQU1DLE9BQU9KLFdBQ2ZwRCxhQUFheUQsUUFBUSxPQUFRRixFQUFNQyxPQUFPSixXQUU1Q1MsT0FHRnhFLEVBQUtELGlCQUFpQixXQUFXLFNBQUNtRSxHQUNkLFVBQWRBLEVBQU1HLEtBQXFDLEtBQWxCSCxFQUFNSSxVQUNqQzNELGFBQWF5RCxRQUFRLE9BQVFGLEVBQU1DLE9BQU9KLFdBQzFDL0QsRUFBS3VFLFdEekRURSxJQUNBMUQsSUFDQTJELE9BR0Y5RixTQUFTaUUsS0FBS0MsTUFBTTZCLE9BQXBCLFVBQWdDQyxPQUFPQyxZQUF2QyxNQUVBRCxPQUFPN0UsaUJBQWlCLFVBQVUsV0FDaENuQixTQUFTaUUsS0FBS0MsTUFBTTZCLE9BQXBCLFVBQWdDQyxPQUFPQyxZQUF2QyxVIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHF1b3RlcyA9ICgpID0+IHtcbiAgY29uc3QgcXVvdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVvdGUnKTtcbiAgY29uc3QgYXV0aG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF1dGhvcicpO1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVmcmVzaC1xdW90ZScpO1xuXG4gIGxldCBudW1iZXJPZlF1b3RlcztcbiAgbGV0IGNoZWNrO1xuXG4gIGNvbnN0IGdldFJhbmRvbVF1b3RlID0gKG1pbiwgbWF4KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xuICAgIGlmIChyZXN1bHQgIT09IGNoZWNrKSB7XG4gICAgICBjaGVjayA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBnZXRSYW5kb21RdW90ZSgwLCBudW1iZXJPZlF1b3Rlcyk7XG4gIH07XG5cbiAgY29uc3Qgc2V0UXVvdGUgPSAoKSA9PiB7XG4gICAgZmV0Y2goJy4vYXNzZXRzL2pzb24vcXVvdGVzLmpzb24nKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IGRhdGEuanNvbigpKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgbnVtYmVyT2ZRdW90ZXMgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmFuZG9tUXVvdGUgPSBnZXRSYW5kb21RdW90ZSgwLCBudW1iZXJPZlF1b3Rlcyk7XG4gICAgICAgIHF1b3RlLnRleHRDb250ZW50ID0gZGF0YVtyYW5kb21RdW90ZV0ucXVvdGU7XG4gICAgICAgIGF1dGhvci50ZXh0Q29udGVudCA9IGRhdGFbcmFuZG9tUXVvdGVdLmF1dGhvcjtcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgcXVvdGUudGV4dENvbnRlbnQgPSAnQW4gRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSBUcnkgQWdhaW4gTGF0ZXIgKDonO1xuICAgICAgfSk7XG4gIH07XG5cbiAgc2V0UXVvdGUoKTtcblxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXRRdW90ZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBxdW90ZXM7XG4iLCJjb25zdCBzZXRXZWF0aGVyID0gKCkgPT4ge1xuICBjb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcbiAgY29uc3QgdGVtcGVyYXR1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUnKTtcbiAgY29uc3QgdGVtcGVyYXR1cmVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWluZm8nKTtcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuICBjb25zdCB3ZWF0aGVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWljb24nKTtcbiAgY29uc3QgaHVtaWRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHktaW5mbycpO1xuICBjb25zdCB3aW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQtaW5mbycpO1xuXG4gIGNvbnN0IGhpZGVFbGVtZW50cyA9IChib29sZWFuKSA9PiB7XG4gICAgdGVtcGVyYXR1cmUuaGlkZGVuID0gYm9vbGVhbjtcbiAgICB0ZW1wZXJhdHVyZUluZm8uaGlkZGVuID0gYm9vbGVhbjtcbiAgICBodW1pZGl0eS5wYXJlbnROb2RlLmhpZGRlbiA9IGJvb2xlYW47XG4gICAgd2luZC5wYXJlbnROb2RlLmhpZGRlbiA9IGJvb2xlYW47XG4gICAgd2VhdGhlckljb24uaGlkZGVuID0gYm9vbGVhbjtcbiAgfTtcblxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSkge1xuICAgIGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKX0mbGFuZz1lbiZhcHBpZD04NWQwNjAyMWY1NzZhNGU0NmJjMmY1MDg0ZDZhNmU4NyZ1bml0cz1tZXRyaWNgKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IGRhdGEuanNvbigpKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaGlkZUVsZW1lbnRzKGZhbHNlKTtcbiAgICAgICAgd2VhdGhlckljb24uY2xhc3NMaXN0LmFkZChgb3dmLSR7ZGF0YS53ZWF0aGVyWzBdLmlkfWApO1xuICAgICAgICB0ZW1wZXJhdHVyZS50ZXh0Q29udGVudCA9IGAke01hdGgucm91bmQoZGF0YS5tYWluLnRlbXApfcKwQ2A7XG4gICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uWzBdLnRvVXBwZXJDYXNlKClcbiAgICAgICAgKyBkYXRhLndlYXRoZXJbMF0uZGVzY3JpcHRpb24uc2xpY2UoMSk7XG4gICAgICAgIGh1bWlkaXR5LnRleHRDb250ZW50ID0gZGF0YS5tYWluLmh1bWlkaXR5O1xuICAgICAgICB3aW5kLnRleHRDb250ZW50ID0gZGF0YS53aW5kLnNwZWVkO1xuICAgICAgICBjb25zdCBjaXR5TmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5Jyk7XG4gICAgICAgIGNpdHkudGV4dENvbnRlbnQgPSBjaXR5TmFtZVswXS50b1VwcGVyQ2FzZSgpICsgY2l0eU5hbWUuc2xpY2UoMSk7XG4gICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gJ0NpdHkgbm90IGZvdW5kJztcbiAgICAgICAgY2l0eS50ZXh0Q29udGVudCA9ICdQbGVhc2UgdHJ5IGFnYWluJztcbiAgICAgICAgaGlkZUVsZW1lbnRzKHRydWUpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9ICdbRW50ZXIgQ2l0eV0nO1xuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gJ1dlYXRoZXInO1xuICAgIGh1bWlkaXR5LnBhcmVudE5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICB3aW5kLnBhcmVudE5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgc2V0V2VhdGhlcjtcbiIsImNvbnN0IGFwcCA9ICgpID0+IHtcbiAgY29uc3QgZ3JlZXRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JlZXRpbmcnKTtcbiAgY29uc3Qgc2xpZGVMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlLWxlZnQnKTtcbiAgY29uc3Qgc2xpZGVSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS1yaWdodCcpO1xuICBjb25zdCB0aW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpbWUnKTtcbiAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJyk7XG5cbiAgY29uc3QgYXJySW1hZ2VzID0gWy4uLkFycmF5KDIwKS5rZXlzKCldXG4gICAgLm1hcCgoaXRlbSkgPT4gKGl0ZW0gKyAxIDwgMTAgPyBgMCR7aXRlbSArIDF9YCA6IGAke2l0ZW0gKyAxfWApKVxuICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuXG4gIGNvbnN0IHVybHNJbWFnZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgaWYgKGkgPCA2KSB7XG4gICAgICB1cmxzSW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvbmlnaHQvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICB9IGVsc2UgaWYgKGkgPCAxMikge1xuICAgICAgdXJsc0ltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL21vcm5pbmcvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICB9IGVsc2UgaWYgKGkgPCAxOCkge1xuICAgICAgdXJsc0ltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL2RheS8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmxzSW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvZXZlbmluZy8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNldEJhY2tncm91bmQgPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBob3VyID0gbm93LmdldEhvdXJzKCk7XG5cbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gYCR7dXJsc0ltYWdlc1tob3VyXS5zbGljZSg1LCAtMil9YDtcblxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB1cmxzSW1hZ2VzW2hvdXJdO1xuICAgIH0pO1xuXG4gICAgaWYgKGhvdXIgPCA2KSB7XG4gICAgICBncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIE5pZ2h0LCAnO1xuICAgIH0gZWxzZSBpZiAoaG91ciA8IDEyKSB7XG4gICAgICBncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIE1vcm5pbmcsICc7XG4gICAgfSBlbHNlIGlmIChob3VyIDwgMTgpIHtcbiAgICAgIGdyZWV0aW5nLnRleHRDb250ZW50ID0gJ0dvb2QgQWZ0ZXJub29uLCAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIEV2ZW5pbmcsICc7XG4gICAgfVxuICB9O1xuXG4gIHNldEJhY2tncm91bmQoKTtcblxuICBsZXQgY291bnRTbGlkZXJzID0gMDtcblxuICBjb25zdCBzbGlkZVN3aXRjaCA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGhvdXIgPSBub3cuZ2V0SG91cnMoKTtcbiAgICBpZiAoaG91ciArIGNvdW50U2xpZGVycyA8IDApIHtcbiAgICAgIGNvdW50U2xpZGVycyA9IDIzIC0gaG91cjtcbiAgICB9XG4gICAgaWYgKGhvdXIgKyBjb3VudFNsaWRlcnMgPiAyMykge1xuICAgICAgY291bnRTbGlkZXJzID0gLWhvdXI7XG4gICAgfVxuXG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGAke3VybHNJbWFnZXNbaG91ciArIGNvdW50U2xpZGVyc10uc2xpY2UoNSwgLTIpfWA7XG5cbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gdXJsc0ltYWdlc1tob3VyICsgY291bnRTbGlkZXJzXTtcbiAgICB9KTtcblxuICAgIHNsaWRlTGVmdC5kaXNhYmxlZCA9IHRydWU7XG4gICAgc2xpZGVSaWdodC5kaXNhYmxlZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzbGlkZUxlZnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNsaWRlUmlnaHQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICBzbGlkZUxlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY291bnRTbGlkZXJzIC09IDE7XG4gICAgc2xpZGVTd2l0Y2goKTtcbiAgfSk7XG5cbiAgc2xpZGVSaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb3VudFNsaWRlcnMgKz0gMTtcbiAgICBzbGlkZVN3aXRjaCgpO1xuICB9KTtcblxuICBjb25zdCBzaG93VGltZSA9ICgpID0+IHtcbiAgICBjb25zdCBtb250aHMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLFxuICAgICAgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG4gICAgY29uc3QgZGF5cyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG1vbnRoID0gbm93LmdldE1vbnRoKCk7XG4gICAgY29uc3QgZGF5ID0gbm93LmdldERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBub3cuZ2V0RGF5KCk7XG4gICAgY29uc3QgaG91ciA9IG5vdy5nZXRIb3VycygpO1xuICAgIGNvbnN0IG1pbiA9IG5vdy5nZXRNaW51dGVzKCk7XG4gICAgY29uc3Qgc2VjID0gbm93LmdldFNlY29uZHMoKTtcbiAgICBpZiAobWluID09PSAwICYmIHNlYyA9PT0gMCkge1xuICAgICAgc2V0QmFja2dyb3VuZCgpO1xuICAgIH1cblxuICAgIHRpbWUuaW5uZXJUZXh0ID0gYCR7aG91cn06JHsrbWluIDwgMTAgPyAnMCcgOiAnJ30ke21pbn06JHsrc2VjIDwgMTAgPyAnMCcgOiAnJ30ke3NlY31gO1xuICAgIGRhdGUuaW5uZXJUZXh0ID0gYCR7ZGF5c1tkYXlPZldlZWtdfSwgJHtkYXl9ICR7bW9udGhzW21vbnRoXX1gO1xuXG4gICAgc2V0VGltZW91dChzaG93VGltZSwgMTAwMCk7XG4gIH07XG5cbiAgc2hvd1RpbWUoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiIsImltcG9ydCBxdW90ZXMgZnJvbSAnLi9tb2R1bGVzL3F1b3Rlcyc7XG5pbXBvcnQgd2VhdGhlciBmcm9tICcuL21vZHVsZXMvd2VhdGhlcic7XG5pbXBvcnQgc2V0RGF0YSBmcm9tICcuL21vZHVsZXMvc2V0RGF0YSc7XG5pbXBvcnQgYXBwIGZyb20gJy4vbW9kdWxlcy9hcHAnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBzZXREYXRhKCk7XG4gIHF1b3RlcygpO1xuICB3ZWF0aGVyKCk7XG4gIGFwcCgpO1xufSk7XG5cbmRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgO1xufSk7XG4iLCJpbXBvcnQgc2V0V2VhdGhlciBmcm9tICcuL3dlYXRoZXInO1xuXG5jb25zdCBzZXREYXRhID0gKCkgPT4ge1xuICBjb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKTtcbiAgY29uc3QgZm9jdXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9jdXMnKTtcbiAgY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXR5Jyk7XG5cbiAgbmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpIDogJ1tFbnRlciBOYW1lXSc7XG4gIGZvY3VzLnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJykgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKSA6ICdbRW50ZXIgRm9jdXNdJztcblxuICBuYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgfSk7XG5cbiAgbmFtZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5pbm5lclRleHQpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgICBuYW1lLnRleHRDb250ZW50ID0gZXZlbnQudGFyZ2V0LmlubmVyVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpIDogJ1tFbnRlciBOYW1lXSc7XG4gICAgfVxuICB9KTtcblxuICBuYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgICAgbmFtZS5ibHVyKCk7XG4gICAgfVxuICB9KTtcblxuICBmb2N1cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmb2N1cy50ZXh0Q29udGVudCA9ICcnO1xuICB9KTtcblxuICBmb2N1cy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5pbm5lclRleHQpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb2N1cycsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgICAgZm9jdXMudGV4dENvbnRlbnQgPSBldmVudC50YXJnZXQuaW5uZXJUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1cy50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJykgOiAnW0VudGVyIENpdHldJztcbiAgICB9XG4gIH0pO1xuXG4gIGZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9jdXMnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICAgIGZvY3VzLmJsdXIoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9ICcnO1xuICB9KTtcblxuICBjaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmlubmVyVGV4dCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NpdHknLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgICB9XG4gICAgc2V0V2VhdGhlcigpO1xuICB9KTtcblxuICBjaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgICAgY2l0eS5ibHVyKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNldERhdGE7XG4iXSwic291cmNlUm9vdCI6IiJ9