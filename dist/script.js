(()=>{var e={674:()=>{var e,t,n=document.querySelector(".quote"),o=document.querySelector(".author"),r=document.querySelector(".refresh-quote"),c=function n(o,r){var c=Math.floor(Math.random()*(r-o))+o;return c!==t?(t=c,c):n(0,e)},i=function(){fetch("./assets/json/quotes.json").then((function(e){return e.json()})).then((function(t){e=t.length;var r=c(0,e);n.textContent=t[r].quote,o.textContent=t[r].author}))};i(),r.addEventListener("click",i)}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(674);var e={currentImages:[],greeting:null,countSliders:0,slideLeft:null,slideRight:null,today:new Date,init:function(){var e=this,t=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20"];t.sort((function(){return Math.random()-.5}));for(var n=0;n<24;n+=1)n<6?this.currentImages.push('url("assets/images/night/'.concat(t[n%6],'.jpg")')):n<12?this.currentImages.push('url("assets/images/morning/'.concat(t[n%6],'.jpg")')):n<18?this.currentImages.push('url("assets/images/day/'.concat(t[n%6],'.jpg")')):this.currentImages.push('url("assets/images/evening/'.concat(t[n%6],'.jpg")'));this.greeting=document.querySelector(".greeting"),this.slideLeft=document.querySelector(".slide-left"),this.slideRight=document.querySelector(".slide-right"),this.slideLeft.addEventListener("click",(function(){e.countSliders-=1,e.slideSwitch()})),this.slideRight.addEventListener("click",(function(){e.countSliders+=1,e.slideSwitch()})),this.setBackground()},setBackground:function(){var e=this,t=this.today.getHours(),n=document.createElement("img");n.src="".concat(this.currentImages[t].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=e.currentImages[t]})),this.greeting.textContent=t<6?"Good Night, ":t<12?"Good Morning, ":t<18?"Good Afternoon, ":"Good Evening, "},slideSwitch:function(){var e=this,t=this.today.getHours();t+this.countSliders<0&&(this.countSliders=23-t),t+this.countSliders>23&&(this.countSliders=-t);var n=document.createElement("img");n.src="".concat(this.currentImages[t+this.countSliders].slice(5,-2)),n.addEventListener("load",(function(){document.body.style.backgroundImage=e.currentImages[t+e.countSliders]})),this.slideLeft.disabled=!0,this.slideRight.disabled=!0,setTimeout((function(){e.slideLeft.disabled=!1,e.slideRight.disabled=!1}),1e3)}};e.init();const t=e;var o=document.querySelector(".time"),r=document.querySelector(".date");!function e(){var n=new Date,c=n.getMonth(),i=n.getDate(),a=n.getDay(),d=n.getHours(),u=n.getMinutes(),s=n.getSeconds();0===u&&0===s&&t.setBackground(),o.innerText="".concat(d,":").concat(+u<10?"0":"").concat(u,":").concat(+s<10?"0":"").concat(s),r.innerText="".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(i," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]),setTimeout(e,1e3)}();var c=document.querySelector(".weather-icon"),i=document.querySelector(".temperature"),a=document.querySelector(".weather-description"),d=document.querySelector(".city"),u=document.querySelector(".weather-description"),s=document.querySelector(".humidity-info"),l=document.querySelector(".wind-info"),m=function(){""!==d.textContent&&"[Enter City]"!==d.textContent&&(c.className="weather-icon owf",fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(d.textContent,"&lang=en&appid=85d06021f576a4e46bc2f5084d6a6e87&units=metric")).then((function(e){return e.json()})).then((function(e){"city not found"===e.message?(d.textContent="City not found",u.textContent="Weather",document.querySelector(".temperature").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):(document.querySelector(".temperature").hidden=!1,c.classList.add("owf-".concat(e.weather[0].id)),i.textContent="".concat(Math.round(e.main.temp),"Â°C"),a.textContent=e.weather[0].description[0].toUpperCase()+e.weather[0].description.slice(1),s.textContent=e.main.humidity,l.textContent=e.wind.speed)})))};const g=m;document.addEventListener("DOMContentLoaded",m);var h=document.querySelector(".name"),y=document.querySelector(".focus"),S=document.querySelector(".city"),f=document.querySelector(".weather-description");h.addEventListener("click",(function(){h.textContent=null})),h.addEventListener("blur",(function(){h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]"})),h.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("name",e.target.innerText),h.blur()):localStorage.setItem("name",e.target.innerText)})),y.addEventListener("click",(function(){y.textContent=null})),y.addEventListener("blur",(function(){y.textContent=localStorage.getItem("focus")?localStorage.getItem("focus"):"[Enter Name]"})),y.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("focus",e.target.innerText),y.blur()):localStorage.setItem("focus",e.target.innerText)})),S.addEventListener("click",(function(){S.textContent=null})),S.addEventListener("blur",(function(){null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".temperature-info").hidden=!0,document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city")})),S.addEventListener("keydown",(function(e){"Enter"===e.key||13===e.keyCode?(localStorage.setItem("city",e.target.innerText),document.querySelector(".temperature-info").hidden=!1,document.querySelector(".humidity").hidden=!1,document.querySelector(".wind").hidden=!1,S.blur(),g()):localStorage.setItem("city",e.target.innerText)})),S.addEventListener("keypress",(function(e){"Enter"===e.code&&(g(),S.blur())})),h.textContent=localStorage.getItem("name")?localStorage.getItem("name"):"[Enter Name]",y.textContent=localStorage.getItem("focus")?y.textContent=localStorage.getItem("focus"):"[Enter Focus]",null===localStorage.getItem("city")||""===localStorage.getItem("city")?(S.textContent="[Enter City]",f.textContent="Weather",document.querySelector(".humidity").hidden=!0,document.querySelector(".wind").hidden=!0):S.textContent=localStorage.getItem("city"),document.body.style.height="".concat(window.innerHeight,"px"),window.addEventListener("resize",(function(){document.body.style.height="".concat(window.innerHeight,"px")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9xdW90ZXMuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvYmFja2dyb3VuZC5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy90aW1lLmpzIiwid2VicGFjazovL21vbWVudHVtLy4vc3JjL2pzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vbW9tZW50dW0vLi9zcmMvanMvc2V0RGF0YS5qcyIsIndlYnBhY2s6Ly9tb21lbnR1bS8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJudW1iZXJzT2ZRdW90ZXMiLCJjaGVjayIsInF1b3RlVGV4dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF1dGhvciIsImJ1dHRvbiIsInJhbmRvbU51bWJlciIsIm1pbiIsIm1heCIsInJlc3VsdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldFF1b3RlIiwiZmV0Y2giLCJ0aGVuIiwianNvbiIsImxlbmd0aCIsInJhbmRvbVF1b3RlIiwidGV4dENvbnRlbnQiLCJxdW90ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImJhY2tncm91bmQiLCJjdXJyZW50SW1hZ2VzIiwiZ3JlZXRpbmciLCJjb3VudFNsaWRlcnMiLCJzbGlkZUxlZnQiLCJzbGlkZVJpZ2h0IiwidG9kYXkiLCJEYXRlIiwiaW5pdCIsImFyckltYWdlcyIsInNvcnQiLCJpIiwidGhpcyIsInB1c2giLCJzbGlkZVN3aXRjaCIsInNldEJhY2tncm91bmQiLCJob3VyIiwiZ2V0SG91cnMiLCJpbWciLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic2xpY2UiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJkaXNhYmxlZCIsInNldFRpbWVvdXQiLCJ0aW1lIiwiZGF0ZSIsInNob3dUaW1lIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJnZXRNaW51dGVzIiwic2VjIiwiZ2V0U2Vjb25kcyIsImlubmVyVGV4dCIsIndlYXRoZXJJY29uIiwidGVtcGVyYXR1cmUiLCJ3ZWF0aGVyRGVzY3JpcHRpb24iLCJjaXR5Iiwid2VhdGhlciIsImh1bWlkaXR5Iiwid2luZCIsImdldFdlYXRoZXIiLCJjbGFzc05hbWUiLCJtZXNzYWdlIiwiaGlkZGVuIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJyb3VuZCIsIm1haW4iLCJ0ZW1wIiwiZGVzY3JpcHRpb24iLCJ0b1VwcGVyQ2FzZSIsInNwZWVkIiwibmFtZSIsImZvY3VzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImV2ZW50Iiwia2V5Iiwia2V5Q29kZSIsInNldEl0ZW0iLCJ0YXJnZXQiLCJibHVyIiwiY29kZSIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoic0JBQUEsSUFJSUEsRUFDQUMsRUFMRUMsRUFBWUMsU0FBU0MsY0FBYyxVQUNuQ0MsRUFBU0YsU0FBU0MsY0FBYyxXQUNoQ0UsRUFBU0gsU0FBU0MsY0FBYyxrQkFLaENHLEVBQWUsU0FBZkEsRUFBZ0JDLEVBQUtDLEdBQ3pCLElBQU1DLEVBQVNDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVlKLEVBQU1ELElBQVFBLEVBQ3pELE9BQUlFLElBQVdULEdBQ2JBLEVBQVFTLEVBQ0RBLEdBRUZILEVBQWEsRUFBR1AsSUFHbkJjLEVBQVcsV0FDZkMsTUFBTSw2QkFDSEMsTUFBSyxTQUFDTixHQUFELE9BQVlBLEVBQU9PLFVBQ3hCRCxNQUFLLFNBQUNOLEdBQ0xWLEVBQWtCVSxFQUFPUSxPQUN6QixJQUFNQyxFQUFjWixFQUFhLEVBQUdQLEdBQ3BDRSxFQUFVa0IsWUFBY1YsRUFBT1MsR0FBYUUsTUFD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QVEsU0FBNkJGLEVBQU10RSxZQUFjdUUsYUFBYUMsUUFBUSxTQUEzRCxnQkFFaEIsT0FBakNELGFBQWFDLFFBQVEsU0FBcUQsS0FBakNELGFBQWFDLFFBQVEsU0FDaEVwQixFQUFLcEQsWUFBYyxlQUNuQnFELEVBQVFyRCxZQUFjLFVBQ3RCakIsU0FBU0MsY0FBYyxhQUFhMkUsUUFBUyxFQUM3QzVFLFNBQVNDLGNBQWMsU0FBUzJFLFFBQVMsR0FFekNQLEVBQUtwRCxZQUFjdUUsYUFBYUMsUUFBUSxRQ1o1Q3pGLFNBQVNnRCxLQUFLQyxNQUFNZ0QsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLE1BRUFELE9BQU8vRSxpQkFBaUIsVUFBVSxXQUNoQ25CLFNBQVNnRCxLQUFLQyxNQUFNZ0QsT0FBcEIsVUFBZ0NDLE9BQU9DLFlBQXZDLFUiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcXVvdGVUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1b3RlJyk7XG5jb25zdCBhdXRob3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0aG9yJyk7XG5jb25zdCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVmcmVzaC1xdW90ZScpO1xuXG5sZXQgbnVtYmVyc09mUXVvdGVzO1xubGV0IGNoZWNrO1xuXG5jb25zdCByYW5kb21OdW1iZXIgPSAobWluLCBtYXgpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xuICBpZiAocmVzdWx0ICE9PSBjaGVjaykge1xuICAgIGNoZWNrID0gcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcigwLCBudW1iZXJzT2ZRdW90ZXMpO1xufTtcblxuY29uc3Qgc2V0UXVvdGUgPSAoKSA9PiB7XG4gIGZldGNoKCcuL2Fzc2V0cy9qc29uL3F1b3Rlcy5qc29uJylcbiAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIG51bWJlcnNPZlF1b3RlcyA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICBjb25zdCByYW5kb21RdW90ZSA9IHJhbmRvbU51bWJlcigwLCBudW1iZXJzT2ZRdW90ZXMpO1xuICAgICAgcXVvdGVUZXh0LnRleHRDb250ZW50ID0gcmVzdWx0W3JhbmRvbVF1b3RlXS5xdW90ZTtcbiAgICAgIGF1dGhvci50ZXh0Q29udGVudCA9IHJlc3VsdFtyYW5kb21RdW90ZV0uYXV0aG9yO1xuICAgIH0pO1xufTtcblxuc2V0UXVvdGUoKTtcblxuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0UXVvdGUpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJjb25zdCBiYWNrZ3JvdW5kID0ge1xuICBjdXJyZW50SW1hZ2VzOiBbXSxcbiAgZ3JlZXRpbmc6IG51bGwsXG4gIGNvdW50U2xpZGVyczogMCxcbiAgc2xpZGVMZWZ0OiBudWxsLFxuICBzbGlkZVJpZ2h0OiBudWxsLFxuICB0b2RheTogbmV3IERhdGUoKSxcblxuICBpbml0KCkge1xuICAgIGNvbnN0IGFyckltYWdlcyA9IFsnMDEnLCAnMDInLCAnMDMnLCAnMDQnLCAnMDUnLFxuICAgICAgJzA2JywgJzA3JywgJzA4JywgJzA5JywgJzEwJywgJzExJywgJzEyJywgJzEzJyxcbiAgICAgICcxNCcsICcxNScsICcxNicsICcxNycsICcxOCcsICcxOScsICcyMCcsXG4gICAgXTtcblxuICAgIGFyckltYWdlcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvbmlnaHQvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDEyKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL21vcm5pbmcvJHthcnJJbWFnZXNbaSAlIDZdfS5qcGdcIilgKTtcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDE4KSB7XG4gICAgICAgIHRoaXMuY3VycmVudEltYWdlcy5wdXNoKGB1cmwoXCJhc3NldHMvaW1hZ2VzL2RheS8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VzLnB1c2goYHVybChcImFzc2V0cy9pbWFnZXMvZXZlbmluZy8ke2FyckltYWdlc1tpICUgNl19LmpwZ1wiKWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZ3JlZXRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JlZXRpbmcnKTtcbiAgICB0aGlzLnNsaWRlTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS1sZWZ0Jyk7XG4gICAgdGhpcy5zbGlkZVJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlLXJpZ2h0Jyk7XG5cbiAgICB0aGlzLnNsaWRlTGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY291bnRTbGlkZXJzIC09IDE7XG4gICAgICB0aGlzLnNsaWRlU3dpdGNoKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNsaWRlUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNvdW50U2xpZGVycyArPSAxO1xuICAgICAgdGhpcy5zbGlkZVN3aXRjaCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kKCk7XG4gIH0sXG5cbiAgc2V0QmFja2dyb3VuZCgpIHtcbiAgICBjb25zdCBob3VyID0gdGhpcy50b2RheS5nZXRIb3VycygpO1xuXG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1nLnNyYyA9IGAke3RoaXMuY3VycmVudEltYWdlc1tob3VyXS5zbGljZSg1LCAtMil9YDtcblxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmN1cnJlbnRJbWFnZXNbaG91cl07XG4gICAgfSk7XG5cbiAgICBpZiAoaG91ciA8IDYpIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBOaWdodCwgJztcbiAgICB9IGVsc2UgaWYgKGhvdXIgPCAxMikge1xuICAgICAgdGhpcy5ncmVldGluZy50ZXh0Q29udGVudCA9ICdHb29kIE1vcm5pbmcsICc7XG4gICAgfSBlbHNlIGlmIChob3VyIDwgMTgpIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBBZnRlcm5vb24sICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ3JlZXRpbmcudGV4dENvbnRlbnQgPSAnR29vZCBFdmVuaW5nLCAnO1xuICAgIH1cbiAgfSxcblxuICBzbGlkZVN3aXRjaCgpIHtcbiAgICBjb25zdCBob3VyID0gdGhpcy50b2RheS5nZXRIb3VycygpO1xuICAgIGlmIChob3VyICsgdGhpcy5jb3VudFNsaWRlcnMgPCAwKSB7XG4gICAgICB0aGlzLmNvdW50U2xpZGVycyA9IDIzIC0gaG91cjtcbiAgICB9XG4gICAgaWYgKGhvdXIgKyB0aGlzLmNvdW50U2xpZGVycyA+IDIzKSB7XG4gICAgICB0aGlzLmNvdW50U2xpZGVycyA9IC1ob3VyO1xuICAgIH1cblxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltZy5zcmMgPSBgJHt0aGlzLmN1cnJlbnRJbWFnZXNbaG91ciArIHRoaXMuY291bnRTbGlkZXJzXS5zbGljZSg1LCAtMil9YDtcblxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmN1cnJlbnRJbWFnZXNbaG91ciArIHRoaXMuY291bnRTbGlkZXJzXTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2xpZGVMZWZ0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnNsaWRlUmlnaHQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zbGlkZUxlZnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2xpZGVSaWdodC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0sIDEwMDApO1xuICB9LFxufTtcblxuYmFja2dyb3VuZC5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IGJhY2tncm91bmQ7XG4iLCJpbXBvcnQgYmFja2dyb3VuZCBmcm9tICcuL2JhY2tncm91bmQnO1xuXG5jb25zdCB0aW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpbWUnKTtcbmNvbnN0IGRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpO1xuXG5jb25zdCBzaG93VGltZSA9ICgpID0+IHtcbiAgY29uc3QgbW9udGhOYW1lcyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuICBjb25zdCBkYXlOYW1lcyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBtb250aCA9IHRvZGF5LmdldE1vbnRoKCk7XG4gIGNvbnN0IGRheSA9IHRvZGF5LmdldERhdGUoKTtcbiAgY29uc3QgZGF5T2ZXZWVrID0gdG9kYXkuZ2V0RGF5KCk7XG4gIGNvbnN0IGhvdXIgPSB0b2RheS5nZXRIb3VycygpO1xuICBjb25zdCBtaW4gPSB0b2RheS5nZXRNaW51dGVzKCk7XG4gIGNvbnN0IHNlYyA9IHRvZGF5LmdldFNlY29uZHMoKTtcbiAgaWYgKG1pbiA9PT0gMCAmJiBzZWMgPT09IDApIHtcbiAgICBiYWNrZ3JvdW5kLnNldEJhY2tncm91bmQoKTtcbiAgfVxuXG4gIHRpbWUuaW5uZXJUZXh0ID0gYCR7aG91cn06JHsrbWluIDwgMTAgPyAnMCcgOiAnJ30ke21pbn06JHsrc2VjIDwgMTAgPyAnMCcgOiAnJ30ke3NlY31gO1xuICBkYXRlLmlubmVyVGV4dCA9IGAke2RheU5hbWVzW2RheU9mV2Vla119LCAke2RheX0gJHttb250aE5hbWVzW21vbnRoXX1gO1xuXG4gIHNldFRpbWVvdXQoc2hvd1RpbWUsIDEwMDApO1xufTtcblxuc2hvd1RpbWUoKTtcbiIsImNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItaWNvbicpO1xuY29uc3QgdGVtcGVyYXR1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUnKTtcbmNvbnN0IHdlYXRoZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLWRlc2NyaXB0aW9uJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcbmNvbnN0IHdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuY29uc3QgaHVtaWRpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHktaW5mbycpO1xuY29uc3Qgd2luZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kLWluZm8nKTtcblxuY29uc3QgZ2V0V2VhdGhlciA9ICgpID0+IHtcbiAgaWYgKGNpdHkudGV4dENvbnRlbnQgIT09ICcnICYmIGNpdHkudGV4dENvbnRlbnQgIT09ICdbRW50ZXIgQ2l0eV0nKSB7XG4gICAgd2VhdGhlckljb24uY2xhc3NOYW1lID0gJ3dlYXRoZXItaWNvbiBvd2YnO1xuXG4gICAgZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtjaXR5LnRleHRDb250ZW50fSZsYW5nPWVuJmFwcGlkPTg1ZDA2MDIxZjU3NmE0ZTQ2YmMyZjUwODRkNmE2ZTg3JnVuaXRzPW1ldHJpY2ApXG4gICAgICAudGhlbigocmVzdWx0KSA9PiByZXN1bHQuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UgPT09ICdjaXR5IG5vdCBmb3VuZCcpIHtcbiAgICAgICAgICBjaXR5LnRleHRDb250ZW50ID0gJ0NpdHkgbm90IGZvdW5kJztcbiAgICAgICAgICB3ZWF0aGVyLnRleHRDb250ZW50ID0gJ1dlYXRoZXInO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wZXJhdHVyZScpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlJykuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgd2VhdGhlckljb24uY2xhc3NMaXN0LmFkZChgb3dmLSR7cmVzdWx0LndlYXRoZXJbMF0uaWR9YCk7XG4gICAgICAgICAgdGVtcGVyYXR1cmUudGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKHJlc3VsdC5tYWluLnRlbXApfcKwQ2A7XG4gICAgICAgICAgd2VhdGhlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcmVzdWx0LndlYXRoZXJbMF0uZGVzY3JpcHRpb25bMF0udG9VcHBlckNhc2UoKVxuICAgICAgICAgICsgcmVzdWx0LndlYXRoZXJbMF0uZGVzY3JpcHRpb24uc2xpY2UoMSk7XG4gICAgICAgICAgaHVtaWRpdHkudGV4dENvbnRlbnQgPSByZXN1bHQubWFpbi5odW1pZGl0eTtcbiAgICAgICAgICB3aW5kLnRleHRDb250ZW50ID0gcmVzdWx0LndpbmQuc3BlZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRXZWF0aGVyO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZ2V0V2VhdGhlcik7XG4iLCJpbXBvcnQgZ2V0V2VhdGhlciBmcm9tICcuL3dlYXRoZXInO1xuXG5jb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hbWUnKTtcbmNvbnN0IGZvY3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvY3VzJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHknKTtcbmNvbnN0IHdlYXRoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci1kZXNjcmlwdGlvbicpO1xuXG5jb25zdCBnZXREYXRhID0gKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduYW1lJyk7XG4gIGZvY3VzLnRleHRDb250ZW50ID0gIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpID8gJ1tFbnRlciBGb2N1c10nIDogZm9jdXMudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9jdXMnKTtcblxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpID09PSAnJykge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSAnW0VudGVyIENpdHldJztcbiAgICB3ZWF0aGVyLnRleHRDb250ZW50ID0gJ1dlYXRoZXInO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5odW1pZGl0eScpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbmQnKS5oaWRkZW4gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNpdHkudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2l0eScpO1xuICB9XG59O1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuYW1lLnRleHRDb250ZW50ID0gbnVsbDtcbn0pO1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIG5hbWUudGV4dENvbnRlbnQgPSAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25hbWUnKSA/ICdbRW50ZXIgTmFtZV0nIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25hbWUnKTtcbn0pO1xuXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgbmFtZS5ibHVyKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb2N1cy50ZXh0Q29udGVudCA9IG51bGw7XG59KTtcblxuZm9jdXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgZm9jdXMudGV4dENvbnRlbnQgPSAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvY3VzJykgPyAnW0VudGVyIE5hbWVdJyA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2N1cycpO1xufSk7XG5cbmZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb2N1cycsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICAgIGZvY3VzLmJsdXIoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9jdXMnLCBldmVudC50YXJnZXQuaW5uZXJUZXh0KTtcbiAgfVxufSk7XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNpdHkudGV4dENvbnRlbnQgPSBudWxsO1xufSk7XG5cbmNpdHkuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5JykgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NpdHknKSA9PT0gJycpIHtcbiAgICBjaXR5LnRleHRDb250ZW50ID0gJ1tFbnRlciBDaXR5XSc7XG4gICAgd2VhdGhlci50ZXh0Q29udGVudCA9ICdXZWF0aGVyJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVtcGVyYXR1cmUtaW5mbycpLmhpZGRlbiA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh1bWlkaXR5JykuaGlkZGVuID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY2l0eS50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaXR5Jyk7XG4gIH1cbn0pO1xuXG5jaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaXR5JywgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBlcmF0dXJlLWluZm8nKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaHVtaWRpdHknKS5oaWRkZW4gPSBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luZCcpLmhpZGRlbiA9IGZhbHNlO1xuICAgIGNpdHkuYmx1cigpO1xuICAgIGdldFdlYXRoZXIoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2l0eScsIGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICB9XG59KTtcblxuY29uc3Qgc2V0Q2l0eSA9IChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQuY29kZSA9PT0gJ0VudGVyJykge1xuICAgIGdldFdlYXRoZXIoKTtcbiAgICBjaXR5LmJsdXIoKTtcbiAgfVxufTtcblxuY2l0eS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHNldENpdHkpO1xuXG5nZXREYXRhKCk7XG4iLCJpbXBvcnQgJy4vcXVvdGVzJztcbmltcG9ydCAnLi90aW1lJztcbmltcG9ydCAnLi9iYWNrZ3JvdW5kJztcbmltcG9ydCAnLi9zZXREYXRhJztcblxuZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lckhlaWdodH1weGA7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=